











<!DOCTYPE html>
<html lang="en">

<head>

<script type="text/javascript" src="../../_static/js/bundle-playback.js@v=KTqwAcYd" charset="utf-8"></script>

<script type="text/javascript">
  
  

</script>
<link rel="stylesheet" type="text/css" href="../../_static/css/banner-styles.css@v=fantwOh2.css" />
<link rel="stylesheet" type="text/css" href="../../_static/css/iconochive.css@v=qtvMKcIJ.css" />
<!-- End Wayback Rewrite JS Include -->

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/manifest.json">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="../../images/favicon.ico">
  <link rel="apple-touch-icon" href="../../images/apple-touch-icon.png"/>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Release notes for the March 2022 (2022.3) release."/>
  

  
  <meta name="twitter:card" content="summary_large_image"/>
  
  
  <meta name="twitter:image" content="../../images/release_22_3__clouds.png"/>
  
  <meta name="twitter:title" content="The Machinery — March 2022 (version 2022.3)">
  <meta name="twitter:description" content="Release notes for the March 2022 (2022.3) release."/>
  
  <meta name="twitter:site" content="@ourmachinery"/>

  
  <meta property="og:title" content="The Machinery — March 2022 (version 2022.3) · Our Machinery"/>
  <meta property="og:site_name" content="Our Machinery"/>
  <meta property="og:url" content=" ../../post/release-2022-3/"/>
  
  <meta property="og:image" content="../../images/release_22_3__clouds.png"/>
  
  
  <meta property="og:description" content="Release notes for the March 2022 (2022.3) release."/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content=" 2022-03-31T00:00:00Z"/>
  

  <title>The Machinery — March 2022 (version 2022.3) &middot; Our Machinery</title>

  

  
  
  <link type="text/css" rel="stylesheet" href="../../css/bootstrap.min.css" media="screen, print"/>
  <link type="text/css" rel="stylesheet" href="../../css/style.min.css" media="screen, print"/>
  

  
  
  <link href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/index.xml" rel="alternate" type="application/rss+xml" title="Our Machinery"/>
  

  <link rel="canonical" href="index.html"/>

  
  
  <script>

      
    
    

  </script>
  

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>

  
  <link rel="stylesheet" href="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">
  <script src="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  
  <script type="text/javascript" src="../../js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="../../js/page.min.js?v=1.16"></script>
  
  
  








<script type="application/ld+json">
{
    "@context": "http://web.archive.org/web/20220402192026/https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "url":"http:\/\/web.archive.org\/web\/20220402192026\/https:\/\/ourmachinery.com\/",
        "email":"ping@ourmachinery.com",
        "image": {
            "@type": "ImageObject",
            "url": "/images/full-logo.png"
        },
        "name":"Our Machinery",
        "description":""
    },
    "author": {
        "@type": "Person",
        "name": "The Machinery Team",
        "email": "ping@ourmachinery.com",
        
        "website":"http:\/\/web.archive.org\/web\/20220402192026\/https:\/\/ourmachinery.com\/"
        
        
        
    },
    "headline": "The Machinery — March 2022 (version 2022.3)",
    "name": "The Machinery — March 2022 (version 2022.3)",
    "wordCount":  2537 ,
    "timeRequired": "PT12M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": "en"
    },
    "url": " ../../post/release-2022-3/",
    "datePublished": "2022-03-31T00:00Z",
    "dateModified": "2022-03-31T00:00Z",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://web.archive.org/web/20220402192026/https://ourmachinery.com/release_22_3__clouds.png"
    },
    
    
    "description": "Release notes for the March 2022 (2022.3) release."
}
    </script>


</head>
<body class="d-flex flex-column min-vh-100">
       <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="../../">
          <img src="../../images/full-logo.png" alt="Our Machinery Logo" width="250" height="75">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar-1" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="d-none d-lg-block" id="navbarCollapse">
          <ul class="navbar-nav  ms-auto mb-2 mb-md-0 align-items-center">
            
            
            <li>
            <li class="nav-item">
               
            </li>
            </li>
            
            
            
            <li>
            <li class="nav-item">
               
            </li>
            </li>
            
            
            
             
            
            
            
             
            
            
            
             
            
            
            
            <li class="nav-item dropdown" style="height:40px;min-width:58px;">
              <a class="text-yellow fs-1 signed-in-only" style="line-height: 1;" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <ion-icon name="person-circle-outline"></ion-icon>
              </a>
              <a class="text-yellow fs-1 signed-out-only" style="line-height: 1;" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <ion-icon name="log-in-outline"></ion-icon>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item signed-out-only d-flex align-items-center" href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/sign-in.html">Sign In <ion-icon class="ms-auto" name="log-in-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-out-only d-flex align-items-center" href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/sign-up.html">Sign Up <ion-icon class="ms-auto" name="create-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-in-only d-flex align-items-center" href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/profile.html">Profile <ion-icon class="ms-auto" name="person-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-in-only d-flex align-items-center" role="button" onclick="signOut(); return false;">Sign Out <ion-icon class="ms-auto" name="log-out-outline"></ion-icon></a></li>
              </ul>
            </li>
            
          </ul>
        </div>
      </div>


      <div id="sidebar" tabindex="-1" role="dialog" aria-modal="false" class="b-sidebar b-sidebar-right collapse shadow bg-dark text-light vh-100">
        <header class="b-sidebar-header">
          <button type="button" aria-label="Close" class="fs-1 btn btn-default text-light float-start" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar-1" aria-expanded="false" aria-label="Toggle navigation">
          <span class="icon icon-close"></span>
        </button>
        <div class=" d-flex justify-content-center">
        <a href="../../"><img src="../../images/full-logo.png" class="om-logo p-2 mb-2 mt-2" alt="Our Machinery Logo" width="100" height="75"></a>
  </div>
      </header>
          <div class="b-sidebar-body overflow-auto">
            <div class="card text-primary">
              
              <div class="card-body d-flex justify-content-center signed-out-only">
                <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/sign-in.html" aria-label="Login" class="btn btn-outline-primary me-2" style="flex: 1;"><span class="icon icon-user align-middle"></span> <span class="align-middle text-uppercase font-monospace">Sign In</span></a>
                <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/sign-up.html" aria-label="Register Account" class="btn btn-outline-primary" style="flex: 1;"><span class="icon icon-edit align-middle"></span> <span class="align-middle text-uppercase font-monospace">Sign Up</span></a>
              </div>
              
              <div class="card-body d-flex justify-content-center signed-in-only">
                <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/profile.html" aria-label="Open Profile" class="btn btn-outline-primary me-2 d-flex" style="max-height: 56; min-height: 56px;"><span class="align-middle align-self-center text-uppercase font-monospace">Profile</span></a>
                <a onclick="signOut(); return false;" class="btn btn-outline-primary  d-flex" style="max-height: 56; min-height: 56px;"><span class="icon icon-lock align-middle align-self-center"></span> <span class="align-middle align-self-center text-uppercase font-monospace">Logout</span></a>
              </div>
            </div>
            <div class="accordion mt-0" id="accordion-menu">
              
              
              
              
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id2">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id2" aria-expanded="false" aria-controls="#collapse-id2">
                      About
                    </button>
                  </h2>
                  <div id="collapse-id2" class="accordion-collapse collapse" aria-labelledby="heading-id2" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/product.html">The Machinery</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/roadmap.html">Roadmap</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/about.html">About Us</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/press.html">Press Kit</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id3">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id3" aria-expanded="false" aria-controls="#collapse-id3">
                      Learning &amp; Support
                    </button>
                  </h2>
                  <div id="collapse-id3" class="accordion-collapse collapse" aria-labelledby="heading-id3" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/apidoc/apidoc.html">API Documentation</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.github.io/themachinery-books/">Books</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/videos.html">Videos</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/samples.html">Sample Projects</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues">Issue Tracker</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/academic.html">Academic License</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id4">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id4" aria-expanded="false" aria-controls="#collapse-id4">
                      Community
                    </button>
                  </h2>
                  <div id="collapse-id4" class="accordion-collapse collapse" aria-labelledby="heading-id4" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href=" ../../post/">Blog</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://discord.gg/SHHSZaH">Discord</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/discussions">Forum</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220402192026/https://anchor.fm/ourmachinery">Podcast</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
            </div>
    </div>
  
    <footer class="b-sidebar-footer w-100">
      <div class="d-flex flex-row">
        <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.github.io/themachinery-books/" aria-label="Opens Books" type="button" class="btn btn-outline-light m-1" style="flex: 1"> <span class="align-middle text-uppercase font-monospace">Books</span></a>
        <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/apidoc/apidoc.html" aria-label="Opens API Documentation" type="button" class="btn btn-outline-light m-1" style="flex: 1"> <span class="align-middle text-uppercase font-monospace">Documentation</span></a>
    </div>

    
 

 
  </footer>
  
    </div>

    </nav>
  <main>


<section class="mt-5 container">

  <article class="post">
    <header class="post-blog mx-auto">
      <div class="mb-5 clearfix" role="group" aria-label="Basic example">
          <a href=" ../../" type="button" class="btn btn-primary float-start">
            <ion-icon name="chevron-back-outline" class="align-middle" style="padding-right:0.2em"></ion-icon> <span class="align-middle">All Blogs</span>
          </a>
          <div class="float-end">
          
           
        </div>
        </div>
      </div>

      <div class="d-grid d-md-flex gap-2 pb-3 pb-md-0 mb-2">
        <div class="flex-grow-1">
          <h1>The Machinery — March 2022 (version 2022.3)</h1>
        </div>
      </div>

      <p>
        <time class="post-date" datetime=" 2022-03-31T00:00:00Z">
          Mar 31, 2022
        </time>
      </p>



    </header>

    <section class="text-break post-blog mx-auto">
      <p>Thanks to everyone who ventured outside of the Moscone area for our GDC meetup! It was great to see
you, and also great for parts of our team to be able to meet physically for the first time since
the pandemic started. We understand that everybody makes different risk assessments and that, for
many, going to something like GDC doesn’t make a lot of sense, so we’ll try to do more virtual
events too. For example, on the 29th of April, Niklas will be giving a prerecorded talk at the
<a href="http://web.archive.org/web/20220402192026/https://www.hytradboi.com/">Hytradboi</a> conference.</p>
<p>As usual, we have a bunch of fixes and new features for you this month.</p>
<p>If you are already running The Machinery, this new release should pop up in your <em>Downloads</em> tab.
Otherwise, get it from our <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/download.html">download page</a> and have a look
at this quick <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/beta.html">introduction video</a>.  We are also working on a
<a href="http://web.archive.org/web/20220402192026/https://ourmachinery.github.io/themachinery-books/">book</a> about The Machinery. Note that the book
is still a work in progress.</p>
<p>If you find bugs in this release or have requests for specific features, post them to our <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues">issue
tracker</a>. For more general discussions,
hit us up on <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/discussions">GitHub discussions</a>
or <a href="http://web.archive.org/web/20220402192026/https://discordapp.com/channels/690290013585408136/691973584612229191">Discord</a>.</p>
<p>Key highlights in this release are:</p>
<ul>
<li><a href="index.html#buffer-eviction">Buffer Eviction</a></li>
<li><a href="index.html#dcc-asset-reimport-overhaul">DCC Asset Reimport Overhaul</a></li>
<li><a href="index.html#clouds-component-preview">Clouds Component</a></li>
</ul>
<p>And as usual, we have a number of <a href="index.html#community-contributions">smaller updates</a>.</p>
<h2 id="buffer-eviction">Buffer Eviction</h2>
<p>The engine now has a low-level API for evicting unused buffer data from The Truth to reduce the
memory use. In addition, <code>lock()</code>, <code>unlock()</code>, and <code>frame_lock()</code> calls have been added to allow
buffers to be marked as in-use or not used and free to evict.</p>
<p>Since not all parts of the engine support the <code>lock()</code> and <code>unlock()</code> protocol, the buffer eviction
system is currently opt-in. I.e., only buffers that have explicitly said that they can be evicted
will be up for eviction. When the locking system has been fully implemented, eviction support will
be mandatory.</p>
<p>You can inspect the current state of the buffers in the new <em>Buffers</em> view in the <em>Memory Use</em>
debug tab:</p>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block" alt="Buffers memory use view" src="../../images/release_22_3__buffers_memory_use.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>Buffers memory use view</h4>
    </figcaption>
  </figure>
<p>This shows the memory used by all buffers. Buffers that have opted in to the eviction system have
an <em>Evict</em> button next to them. If the buffer is currently in-use and can’t be evicted, the evict
button is grayed out. Otherwise, you can press the evict button to force-evict the buffer.</p>
<p>In an upcoming release, we’ll add a high-level system built on top of this low-level foundation
that allows you to stream in and out sets of buffers in the background — for example, all the
buffers that are used by a particular level.</p>
<p>Another change is that buffers are no longer auto-loaded when you load a project. Instead, buffers
will be loaded on-demand as they are needed.</p>
<h2 id="dcc-asset-reimport-overhaul">DCC Asset Reimport Overhaul</h2>
<p>Reimport of DCC assets now works better and is less destructive. Before this, we tried to in-place
update the whole DCC asset by comparing the names of the objects within the DCC asset. This has
been replaced with a more robust process where we replace the whole DCC asset and then just patch
it up by carrying over data from the old asset that the user may have affected.</p>
<p>The reimport will look for any entity imported from the DCC asset and go through all entities
imported from it. It will add, update, and remove mesh entities to reflect what exists in the new
DCC asset.</p>
<p>There is also an option to do re-extraction of materials and images on reimport, this will bring in
any new materials and images that didn’t exist before.</p>
<p>We removed the <code>tm_the_truth_replacer_api</code> that was used to do the old in-place rebuild of the DCC
asset as it is now unused and a bit broken.</p>
<h2 id="clouds-component-preview">Clouds Component (Preview)</h2>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block" alt="Clouds Component" src="../../images/release_22_3__clouds.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>Clouds Component</h4>
    </figcaption>
  </figure>
<p>We are releasing an early preview of our physically-based clouds component, this way we can hear
your feedback in the early stages of development.</p>
<p>With the default settings we do raymarching in 1/4th of the viewport resolution and do a temporal
reconstruction to achieve the final output. If quality is more important than performance we offer
an option to render the clouds in full resolution. Besides the basics settings, you’ll need to
create a weather texture, where the Red channel gives the clouds coverage and Green channel the
cloud type, with 0.0 stratus, 0.5 for stratus-cumulus, and 1.0 for cumulus.</p>
<h2 id="community-contributions">Community Contributions</h2>
<ul>
<li>Thanks to <a href="http://web.archive.org/web/20220402192026/https://github.com/Tisten">Tisten</a> for multiple fixes:
<ul>
<li>Fix for a crash when changing transforms. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1218">#1218</a></li>
<li>Fix for bad placements of rigid body shapes. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/922">#922</a></li>
<li>Fix for bad transforms for child objects to physics bodies. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/919">#919</a></li>
<li>Added a <em>Save As Copy</em> menu entry. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/910">#910</a></li>
<li>Fix for the reimport dialogue. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1143">#1143</a> <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/902">#902</a></li>
<li>Update to the core project. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/899">#899</a></li>
<li>Parallelized the compression of collaboration buffers. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/894">#894</a></li>
</ul>
</li>
<li>Thanks to <a href="http://web.archive.org/web/20220402192026/https://github.com/jamesmintram">jamesmintram</a> for multiple fixes:
<ul>
<li>Fix for a bug causing proliferation of animation curves. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1195">#1195</a> <a href="http://web.archive.org/web/20220402192026/https://github.com/jamesmintram">#920</a></li>
<li>Fix for an issue causing physics entities to move in editor mode. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/918">#918</a></li>
<li>Better error message on type mismatch. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/917">#917</a></li>
<li>Add a NULL check to prevent a crash in the animation preview. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/916">#916</a></li>
<li>Remove the log warning when the physics shape is <code>TM_PHYSICS_SHAPE_NONE</code>. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/915">#915</a></li>
<li>Removed an unused reference in the physics mover. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/912">#912</a></li>
<li>Notify the task manager API about animation compression tasks. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/911">#911</a></li>
<li>Add cancellation support to the analyze types task in the Truth Inspector. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/908">#908</a></li>
</ul>
</li>
<li>Thanks to <a href="http://web.archive.org/web/20220402192026/https://github.com/Selmar">Selmar</a> for performance fixes and other improvements to the stack trace printing on Windows. <a href="http://web.archive.org/web/20220402192026/http:///">#898</a></li>
<li>Thanks to <a href="http://web.archive.org/web/20220402192026/https://github.com/ElementalAndy">ElementalAndy</a> for a fix in the checking of the kinematic flag when mirroring rigid body transforms. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery/pull/897">#897</a></li>
</ul>
<h2 id="collaboration">Collaboration</h2>
<ul>
<li>The Machinery now supports synchronization of <em>avatars</em> that represent the other collaborators in a collaboration session. In the future, we will use this to visualize the other collaborators in the scene to give a greater feeling of presence.</li>
<li>Fixed a deadlock when modal dialogs are shown during a collaboration session. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1059">#1059</a> <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1091">#1091</a></li>
<li>Fix for a crash when a collaboration server is saving. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1055">#1055</a></li>
<li>Better behavior of <em>Reimport</em> during collaboration sessions. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1093">#1093</a></li>
<li>Collaboration Cache files are now saved using a write/rename protocol to prevent corruption if the engine crashes in the middle of the write.</li>
<li>Compression of buffers no longer uses a temp allocator, as this could consume too much memory when the project is large.</li>
<li>Added a modal dialogue warning when a client loses connection unexpectedly.</li>
</ul>
<h2 id="ui">UI</h2>
<ul>
<li>Fix for a threading issue that could cause corruption in the IMGUI active data. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1123">#1123</a></li>
<li>The <em>Numpad Enter</em> key can now be used in all places that accept the regular <em>Enter</em> key.</li>
<li>The UI now requires an <em>Up</em> event between two <em>Down</em> events to register a double-click. Just having two <em>Down</em> events is not enough. This prevents double-clicks from being registered in some situations where multiple <em>Down</em> events were being sent. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1090">#1090</a></li>
<li>Fix for an infinite loop when drawing Bezier paths with <em>NaN</em> values in them. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1090">#1100</a></li>
<li>Better clipping of workspace names. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1210">#1210</a></li>
</ul>
<h2 id="entity-tree">Entity Tree</h2>
<ul>
<li>You can now double-click on an <em>Animation State Machine</em> component to open the corresponding state machine. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1164">#1164</a></li>
<li>Custom Entity Menu Items can now be implemented via the <code>tm_entity_tree_custom_context_menu_item_i</code> interface.</li>
<li>It’s now possible to remove an instantiated child in a single operation. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1159">#1159</a></li>
<li>Fix for <code>Replace With Asset</code> menu being shown for overridden children. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1158">#1158</a></li>
<li>Locally added components and children will now be maintained when the prototype of an entity changes. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/953">#953</a></li>
<li>Fix for not showing the color of the root entity correctly.</li>
<li>Added <code>Make Unique</code> context menu option for instantiated entities. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1157">#1157</a></li>
<li>Fix for error when creating entity asset after right-clicking in the tab background. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1207">#1207</a></li>
</ul>
<h2 id="foundation">Foundation</h2>
<ul>
<li>The engine now uses a round-robin scheme to look for dirty plugins to hot-reload. This cuts down the <code>check_hot_reload()</code> time from 4.4ms to 0.3ms.</li>
</ul>
<h2 id="the-truth">The Truth</h2>
<ul>
<li>Truth types can now be excluded from the changelog using the <code>tm_tt_aspect__skip_changelog</code> aspect. This can be used to mark “transient” data that shouldn’t be synced over the network or restored in the case of a crash.</li>
<li>Fix for import de-duplication in the case of recursive references. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1015">#1015</a></li>
<li>Fix for potentially corrupting project when saving as directory project. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1119">#1119</a></li>
<li>Fix for <code>propagate_property_subobject()</code> not taking into account locally removed subobjects.</li>
<li>Fix for the propagation of changes to the prototype being broken when there were references within the propagated object to newly added The Truth objects. This makes graphs where lots of additions have been made propagate properly.</li>
<li>Added an aspect called <code>tm_tt_aspect__before_propagate</code> that can be used to inject a callback just before the propagation of an object happens. This is useful if the object needs some additional logic in order to properly do the propagation. This is used in the graph to propagate connections that are implicitly disabled by the graph code, but not in The Truth.</li>
<li>Added <code>clear_object_recursively</code>. It does what <code>clear_object</code> does but also destroys subobjects recursively, instead of just clearing the object passed. This is the behavior expected in many situations and this function is now used in many places.</li>
<li>Deprecated use of <code>ensure_all_loaded()</code> — we never want to force the engine to load all buffers since that could potentially take a long time. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1233">#1233</a></li>
</ul>
<h2 id="preview-tab">Preview Tab</h2>
<ul>
<li>The Default Lighting Environment used by the Preview Tab now contains a sky entity, giving it a nicer default light source.</li>
</ul>
<h2 id="asset-pipeline">Asset Pipeline</h2>
<ul>
<li>Core now contains a default material. This material is automatically assigned when asset import fails to find a material to use.</li>
</ul>
<h2 id="graph-editor">Graph Editor</h2>
<ul>
<li>Only re-wire connections when CTRL is held. Before this you needed to hold CTRL to make new connections, i.e. the logic is reversed now.</li>
<li>Focus mode editing of graphs works again. It was broken due to indirection index buffers not being merged while in focus mode.</li>
</ul>
<h2 id="entity-graphs">Entity Graphs</h2>
<ul>
<li>Fix for graph wires not being properly initialized. <a href="http://web.archive.org/web/20220402192026/http:///">#1090</a></li>
<li>Added the <code>Set Parent</code> node. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1141">#1141</a></li>
<li>Added the <code>Clear Entity Variable</code> node. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1153">#1153</a></li>
<li>Added <code>Get Asset Reference</code> node.</li>
<li>Added <code>Float Negate</code>.</li>
<li>Added <code>Float Sign (Without Zero)</code>.</li>
<li>Added <code>Float Ternary</code>.</li>
<li>Added <code>Vec2 Sign</code>, <code>Vec3 Sign</code>, <code>Vec4 Sign</code>.</li>
<li>Added <code>Vec2 Sign (Without Zero)</code>, <code>Vec3 Sign (Without Zero)</code>, <code>Vec4 Sign (Without Zero)</code>.</li>
</ul>
<h2 id="creation-graphs">Creation Graphs</h2>
<ul>
<li>Fixed a bug in Construct Transform node math where scaling wasn’t respected properly.</li>
<li>New <code>Write Instance Input</code> node for better interop between multiple creation graph instances.</li>
<li><code>Get Instance</code> node now has a <code>Required</code> bool that will retry to lookup another instance if fails due to dependency ordering issues.</li>
<li>Better state management for handling shared resources.</li>
<li>Circular dependency management — prevention from getting stuck in infinite loops if two instances reads output from each other.</li>
<li>Fix for crash sometimes happening when setting up Loops using the <code>Loop Begin</code> and <code>Loop End</code> nodes.</li>
<li><code>GPUSim - Spawn</code> node now supports spawning elements into a GPUSim system based on the elements of another GPUSim system. This allows for driving spawn operations completely on the GPU.</li>
</ul>
<h2 id="properties">Properties</h2>
<ul>
<li>The <em>Add Component</em> button now works better when multiple entities are selected. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1081">#1081</a></li>
<li>Fix for wrong Paste behavior when copying overridden components. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1110">#1110</a></li>
<li>The entity prototype picker is now shown if the root entity is selected in the Entity Tree. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1155">#1155</a></li>
</ul>
<h2 id="scene">Scene</h2>
<ul>
<li>Fix for not correctly accounting for the last selection when applying duplication offset. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1125">#1125</a></li>
</ul>
<h2 id="core">Core</h2>
<ul>
<li>Fix for core update sometimes failing to remove assets that have been removed from the core project.</li>
</ul>
<h2 id="entity">Entity</h2>
<ul>
<li>Removed <code>get_component()</code> and added <code>read_component()</code> and <code>write_component()</code> to facilitate the transition toward component change detection.</li>
<li>The local position of the <code>transform</code> component in The Truth is now stored in doubles.</li>
<li>Added a boolean flag to the <code>add()</code> and <code>remove()</code> component callbacks that indicates whether the component is being added/created as part of the entity creation/destruction or not.</li>
<li>Fix for <code>set_parent()</code> not updating the world transform if setting the parent to NULL.</li>
<li>Fix for asset propagation not working properly when an entity has the <code>physics_body</code> component. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1211">#1211</a></li>
<li>Fix for an error message in the game state. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1232">#1232</a></li>
<li>Added <code>has_component</code> to check whether a component is available without accessing its data.</li>
<li>Fix for notify not being called after some <code>load_asset</code> calls.</li>
<li>Persistent and Replication settings can now be changed at runtime.</li>
</ul>
<h2 id="physics">Physics</h2>
<ul>
<li>For <em>Box</em> shapes, there is now a button to calculate the shape from the bounding box of the render component.</li>
</ul>
<h2 id="physx">PhysX</h2>
<ul>
<li>The PhysX-specific components cannot be accessed from external code anymore: this makes it easier to support multiple physics backends.</li>
<li>Physics components are now created without any delay. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/98">#98</a></li>
<li>PhysX shape creation now takes the scale into consideration, this makes the offset of the shape correct when the parent entity has a scale set.</li>
</ul>
<h2 id="project-management">Project Management</h2>
<ul>
<li>The Network Settings are now part of the Project Settings.</li>
</ul>
<h2 id="entity-spawner">Entity Spawner</h2>
<ul>
<li>Faster physics management.</li>
<li>The physics creation now respects the stride of the buffer data that comes from the Creation Graph. This makes it possible to have data that contains more than just transforms, even if you just use the transforms.</li>
<li>Made it possible to delete entity spawner channels.</li>
<li>Added initialization creation graph that can be used for setting up shared resources accessible from each channel. This makes it possible to more cleanly setup things like occupancy maps to prevent intersecting entities placed by different channels.</li>
<li>Make sure to invalidate cell spawner entites if any channel becomes dirty.</li>
</ul>
<h2 id="paint-nodes">Paint Nodes</h2>
<ul>
<li>Instantiate graph node auxiliary data when it is inherited.</li>
<li>Don’t move the brush while the camera moves.</li>
<li>Introduced Paint Settings Object, moved frequency from toolbar to settings object.</li>
<li>Support for overriding picked paint normal with an explicit normal to better support painting on stuff like terrain.</li>
<li>Stop triggering Brush Render event while the camera moves.</li>
</ul>
<h2 id="thumbnails">Thumbnails</h2>
<ul>
<li>Fix for material thumbnails always getting dirty.</li>
<li>Fix for crash while moving icon size slider due to not waiting for GPU readbacks to finish in the thumbnails code.</li>
</ul>
<h2 id="publish">Publish</h2>
<ul>
<li>Fix for The Truth errors while publishing.</li>
</ul>
<h2 id="simulation-entry">Simulation Entry</h2>
<ul>
<li>Fix for crash when modifying scene entity while simulating.</li>
</ul>
<h2 id="viewer">Viewer</h2>
<ul>
<li>Removed <code>viewer_render_args</code> from the VT of tabs and instead put in an interface called <code>tm_viewer_render_args_provider_i</code> that tabs etc can implement. With this, the thumbnail generation can properly generate cubemaps, as it can get hold of the render args and entity context needed to do the generation.</li>
</ul>
<h2 id="task-manager">Task Manager</h2>
<ul>
<li>Fix for displaying the wrong number of tasks in progress.</li>
</ul>
<h2 id="animation">Animation</h2>
<ul>
<li>Fixed drawing issues with the blend state map. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1233">#1208</a></li>
</ul>
<h2 id="depth-of-field">Depth of Field</h2>
<ul>
<li>Fixed bordering artifacts. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1149">#1149</a></li>
</ul>
<h2 id="renderer">Renderer</h2>
<ul>
<li>Added a new flag to <code>create_image</code> that allows it to be cleared on the device before the first use.</li>
<li>Removed <code>TM_RENDERER_BUFFER_USAGE_VERTEX</code>.</li>
<li>NaN/INF debug visualize now also shows negative values in blue.</li>
<li>Constant/resource buffers created by the shader system now use the shader name as part of their debug tag, making it easier to debug them.</li>
<li>Alpha masked materials are now rendered into its own gbuffer layer after fully opaque materials have completed.</li>
<li>Vulkan backend: Better validation and error handling if dangling <code>tm_renderer_handle_t</code> are passed to the backend by accident.</li>
<li>Render Component now supports visualizing its bounding volume used for culling.</li>
<li>GPU Scene Submission system now does bounding sphere culling culling with its own origin.</li>
<li>GPU Scene Submission system now has GPU performance markers around all indirect draw calls and compute dispatches</li>
<li>Structs in all rendering systems now have unique names to avoid confusing the Visual Studio Debugger.</li>
</ul>
<h2 id="api-documentation">API Documentation</h2>
<ul>
<li>Added missing documentation about shader interpolation modifiers.</li>
</ul>
<h2 id="math">Math</h2>
<ul>
<li>Added <code>tm_aabb_t</code> to extra path plugin.</li>
<li>Added various utility functions for AABB’s to extra math plugin.</li>
<li>Fixed a bad conversion case for <code>tm_quaternion_to_euler()</code>.  Also clarified that the Euler angles use ZYX order. <a href="http://web.archive.org/web/20220402192026/https://github.com/OurMachinery/themachinery-public/issues/1206">#1206</a></li>
</ul>
      


<section>
  <h5>by <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/authors/team" class="text-decoration-none">The Machinery Team</a></h5>
</section>


    </section>
    <footer class="mt-5 mb-5">
      <hr>

      <div class="d-flex">
    <div class="me-auto">
        <a href=" ../../post" type="button" class="btn btn-primary">
            <ion-icon name="chevron-back-outline" class="align-middle" style="padding-right:0.2em"></ion-icon> <span class="align-middle">All Blogs</span>
        </a>
    </div>
    
    <a class="icon icon-twitter me-1" style="font-size: 1.2em" href="http://web.archive.org/web/20220402192026/https://twitter.com/share?text=The%20Machinery%20%e2%80%94%20March%202022%20%28version%202022.3%29 - Our%20Machinery&amp;url=https%3a%2f%2fourmachinery.com%2fpost%2frelease-2022-3%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon icon-pinterest me-1" style="font-size: 1.2em" href="http://web.archive.org/web/20220402192026/https://pinterest.com/pin/create/button/?url=https%3a%2f%2fourmachinery.com%2fpost%2frelease-2022-3%2f&amp;description=The%20Machinery%20%e2%80%94%20March%202022%20%28version%202022.3%29" onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
        <span class="hidden">Pinterest</span>
    </a>
    
</div>

      <div class="mt-5">
        

<p>The comment system uses a session cookie to keep track of your signed-in status. This cookie is
created when you sign in with GitHub. If you don't sign in, no cookie is created.</p>




      </div>

      
      <div class="container mb-5 mt-5">
        <div class="row">
          <h3>Previous Posts</h3>
          <hr>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
          
              <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <a href=" ../../post/release-2022-1/" class="text-decoration-none"><img src="../../images/release_22_1__thumbnails.png" class="card-img-top" alt="The Machinery — January 2022 (version 2022.1)"></a>
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/release-2022-1/">The Machinery — January 2022 (version 2022.1)</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2022-01-27T00:00:00Z">
                      27 Jan 2022
                    </time>
                  </h6>
                  <p class="card-text"><p>Happy 2022, Year of the Water Tiger! Here at Our Machinery, we have lots of interesting news
trickling out this year for …</p></p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/release-2022-1/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">10 min</small>
                </div>
              </div>
        </div>
         <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <a href=" ../../post/the-machinery-network-frontier-part-2/" class="text-decoration-none"><img src="../../images/netfront2__simulate_tabs.png" class="card-img-top" alt="The (Machinery) Network Frontier, Part 2"></a>
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/the-machinery-network-frontier-part-2/">The (Machinery) Network Frontier, Part 2</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2022-01-14T00:00:00Z">
                      14 Jan 2022
                    </time>
                  </h6>
                  <p class="card-text"><p>In this part of the series, we’ll take a look at some high-level constructs that leverage the
basic concepts we saw in …</p></p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/the-machinery-network-frontier-part-2/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">8 min</small>
                </div>
              </div>
        </div>
         <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/2021-recap/">2021 Recap</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-12-20T00:00:00Z">
                      20 Dec 2021
                    </time>
                  </h6>
                  <p class="card-text"><p>As 2021 is coming to a close, we’d like to light a few candles, pour a glass of
<a href="http://web.archive.org/web/20220402192026/https://en.wikipedia.org/wiki/Gl%C3%B6gg">Glögg</a>, and look back at what has …</p></p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/2021-recap/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">3 min</small>
                </div>
              </div>
        </div>
        
      </div>
      </div>
    </footer>
  </article>

</section>

</main>

<footer class="container-fluid mt-auto page-footer-bg">
    <div class="mx-auto d-flex justify-content-center w-100 pt-5 pb-5">
        <img alt="trees" src=" ../../post/release-2022-3/&#32;https:/ourmachinery.com/images/trees.png" style="height: 84.38px; width: 150px;">
    </div>
    <div class="page-info">
        <p class="float-end">
            
            <a href="http://web.archive.org/web/20220402192026/https://twitter.com/ourmachinery" target="_blank" class="icon icon-twitter fs-4"></a>
            
            <a href="http://web.archive.org/web/20220402192026/https://instagram.com/ourmachinery" target="_blank" class="icon icon-instagram fs-4"></a>
            
            <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/index.xml" target="_blank" class="icon icon-feed fs-4"></a>
            
            <a href="http://web.archive.org/web/20220402192026/https://ourmachinery.com/cdn-cgi/l/email-protection#8efee7e0e9cee1fbfce3efede6e7e0ebfcf7a0ede1e3" target="_blank" class="icon icon-mail fs-4"></a>
            
        </p>
         
    </div>
</footer>

<script type="module" src="../../unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule="" src="../../unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.js"></script>
</body>

</html><!--
     FILE ARCHIVED ON 19:20:26 Apr 02, 2022 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:51:19 Aug 01, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 65.182
  exclusion.robots: 0.1
  exclusion.robots.policy: 0.092
  RedisCDXSource: 0.584
  esindex: 0.008
  LoadShardBlock: 46.287 (3)
  PetaboxLoader3.datanode: 57.436 (5)
  CDXLines.iter: 15.802 (3)
  load_resource: 82.809
  PetaboxLoader3.resolve: 25.373
  loaddict: 46.101
-->