











<!DOCTYPE html>
<html lang="en">

<head>

<script type="text/javascript" src="../../_static/js/bundle-playback.js@v=KTqwAcYd" charset="utf-8"></script>

<script type="text/javascript">
  
  

</script>
<link rel="stylesheet" type="text/css" href="../../_static/css/banner-styles.css@v=fantwOh2.css" />
<link rel="stylesheet" type="text/css" href="../../_static/css/iconochive.css@v=qtvMKcIJ.css" />
<!-- End Wayback Rewrite JS Include -->

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/manifest.json">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="../../images/favicon.ico">
  <link rel="apple-touch-icon" href="../../images/apple-touch-icon.png"/>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Release notes for the May 2021 release!"/>
  

  
  <meta name="twitter:card" content="summary_large_image"/>
  
  
  <meta name="twitter:image" content="../../images/beta_21_5__fabrik.png"/>
  
  <meta name="twitter:title" content="The Machinery Beta — May 2021 (version 2021.5)">
  <meta name="twitter:description" content="Release notes for the May 2021 release!"/>
  
  <meta name="twitter:site" content="@ourmachinery"/>

  
  <meta property="og:title" content="The Machinery Beta — May 2021 (version 2021.5) · Our Machinery"/>
  <meta property="og:site_name" content="Our Machinery"/>
  <meta property="og:url" content=" ../../post/beta-2021-5/"/>
  
  <meta property="og:image" content="../../images/beta_21_5__fabrik.png"/>
  
  
  <meta property="og:description" content="Release notes for the May 2021 release!"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content=" 2021-05-27T00:00:00Z"/>
  

  <title>The Machinery Beta — May 2021 (version 2021.5) &middot; Our Machinery</title>

  

  
  
  <link type="text/css" rel="stylesheet" href="../../css/bootstrap.min.css" integrity="" print"/>
  <link type="text/css" rel="stylesheet" href="../../css/style.min.css" integrity="" print"/>
  

  
  
  <link href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/index.xml" rel="alternate" type="application/rss+xml" title="Our Machinery"/>
  

  <link rel="canonical" href="index.html"/>

  
  
  <script>

      
    
    

  </script>
  

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>

  
  <link rel="stylesheet" href="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">
  <script src="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  
  <script type="text/javascript" src="../../js/bootstrap.bundle.min.js" integrity=""></script>
  <script type="text/javascript" src="../../js/page.min.js" integrity=""></script>
  
  
  








<script type="application/ld+json">
{
    "@context": "http://web.archive.org/web/20210614181229/https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "url":"http:\/\/web.archive.org\/web\/20210614181229\/https:\/\/ourmachinery.com\/",
        "email":"ping@ourmachinery.com",
        "image": {
            "@type": "ImageObject",
            "url": "/images/full-logo.png"
        },
        "name":"Our Machinery",
        "description":""
    },
    "author": {
        "@type": "Person",
        "name": "The Machinery Team",
        "email": "ping@ourmachinery.com",
        
        "website":"http:\/\/web.archive.org\/web\/20210614181229\/https:\/\/ourmachinery.com\/"
        
        
        
    },
    "headline": "The Machinery Beta — May 2021 (version 2021.5)",
    "name": "The Machinery Beta — May 2021 (version 2021.5)",
    "wordCount":  1321 ,
    "timeRequired": "PT7M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": "en"
    },
    "url": " ../../post/beta-2021-5/",
    "datePublished": "2021-05-27T00:00Z",
    "dateModified": "2021-05-27T00:00Z",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://web.archive.org/web/20210614181229/https://ourmachinery.com/beta_21_5__fabrik.png"
    },
    
    
    "description": "Release notes for the May 2021 release!"
}
    </script>


</head>
<body class="d-flex flex-column min-vh-100">
       <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="../../">
          <img src="../../images/full-logo.png" alt="Our Machinery Logo" width="250" height="75">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar-1" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="d-none d-lg-block" id="navbarCollapse">
          <ul class="navbar-nav  ms-auto mb-2 mb-md-0 align-items-center">
            
            
            <li>
            <li class="nav-item">
              <a class="nav-link text-yellow fw-bold" href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/beta.html" aria-label="Link Download Now">Download Now</a>
            </li>
            </li>
            
            
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle " id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                About
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                
                <li>
                  <a class="dropdown-item " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/about.html" aria-label="Link About Us">About Us</a>
                </li>
                
                <li>
                  <a class="dropdown-item " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/product.html" aria-label="Link The Machinery">The Machinery</a>
                </li>
                
              </ul>
            </li>
            
            
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle " id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Learning &amp; Support
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                
                <li>
                  <a class="dropdown-item " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/apidoc/apidoc.html" aria-label="Link API Documentation" target="_blank">API Documentation</a>
                </li>
                
                <li>
                  <a class="dropdown-item " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/tutorials/" aria-label="Link Tutorials">Tutorials</a>
                </li>
                
                <li>
                  <a class="dropdown-item " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/videos.html" aria-label="Link Videos">Videos</a>
                </li>
                
                <li>
                  <a class="dropdown-item " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/samples.html" aria-label="Link Sample Projects">Sample Projects</a>
                </li>
                
                <li>
                  <a class="dropdown-item " href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues" aria-label="Link Issue Tracker" target="_blank">Issue Tracker</a>
                </li>
                
              </ul>
            </li>
            
            
            
             
            
            
            
            <li class="nav-item dropdown" style="height:40px;min-width:58px;">
              <a class="text-yellow fs-1 signed-out-only" style="line-height: 1;" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <ion-icon name="person-circle-outline"></ion-icon>
              </a>
              <a class="nav-link rounded-circle p-0 signed-in-only" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <img class="om-gravatar d-none rounded-circle align-left mx-2" alt="gravatar of user" src="http://web.archive.org/web/20210614181229im_/https://www.gravatar.com/avatar/asdgasdhasd">
            </a>

              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item signed-out-only d-flex align-items-center" href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/sign-in.html">Sign In <ion-icon class="ms-auto" name="log-in-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-out-only d-flex align-items-center" href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/sign-up.html">Sign Up <ion-icon class="ms-auto" name="create-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-in-only d-flex align-items-center" href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/profile.html">Profile <ion-icon class="ms-auto" name="person-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-in-only d-flex align-items-center" role="button" onclick="signOut(); return false;">Sign Out <ion-icon class="ms-auto" name="log-out-outline"></ion-icon></a></li>
              </ul>
            </li>
            
          </ul>
        </div>
      </div>


      <div id="sidebar" tabindex="-1" role="dialog" aria-modal="false" class="b-sidebar b-sidebar-right collapse shadow bg-dark text-light vh-100">
        <header class="b-sidebar-header">
          <button type="button" aria-label="Close" class="fs-1 btn btn-default text-light float-start" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar-1" aria-expanded="false" aria-label="Toggle navigation">
          <span class="icon icon-close"></span>
        </button>
        <div class=" d-flex justify-content-center">
        <a href="../../"><img src="../../images/full-logo.png" class="om-logo p-2 mb-2 mt-2" alt="Our Machinery Logo" width="100" height="75"></a>
  </div>
      </header>
          <div class="b-sidebar-body overflow-auto">
            <div class="card text-primary">
              
              <div class="card-body d-flex justify-content-center signed-out-only">
                <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/sign-in.html" aria-label="Login" class="btn btn-outline-primary me-2"><span class="icon icon-user align-middle"></span> <span class="align-middle text-uppercase font-monospace">Sign In</span></a>
                <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/sign-up.html" aria-label="Register Account" class="btn btn-outline-primary"><span class="icon icon-edit align-middle"></span> <span class="align-middle text-uppercase font-monospace">Sign Up</span></a>
              </div>
              
              <div class="card-body d-flex justify-content-center signed-in-only">
                <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/profile.html" aria-label="Open Profile" class="btn btn-outline-primary me-2 d-flex" style="max-height: 56; min-height: 56px;"><span class="align-middle align-self-center text-uppercase font-monospace">Profile</span></a>
                <a onclick="signOut(); return false;" class="btn btn-outline-primary  d-flex" style="max-height: 56; min-height: 56px;"><span class="icon icon-lock align-middle align-self-center"></span> <span class="align-middle align-self-center text-uppercase font-monospace">Logout</span></a>
              </div>
            </div>
            <div class="accordion mt-0" id="accordion-menu">
              
              
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id1">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id1" aria-expanded="false" aria-controls="#collapse-id1">
                      About
                    </button>
                  </h2>
                  <div id="collapse-id1" class="accordion-collapse collapse" aria-labelledby="heading-id1" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/about.html">About Us</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/product.html">The Machinery</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id2">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id2" aria-expanded="false" aria-controls="#collapse-id2">
                      Learning &amp; Support
                    </button>
                  </h2>
                  <div id="collapse-id2" class="accordion-collapse collapse" aria-labelledby="heading-id2" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/apidoc/apidoc.html">API Documentation</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/tutorials/">Tutorials</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/videos.html">Videos</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/samples.html">Sample Projects</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues">Issue Tracker</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id3">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id3" aria-expanded="false" aria-controls="#collapse-id3">
                      Community
                    </button>
                  </h2>
                  <div id="collapse-id3" class="accordion-collapse collapse" aria-labelledby="heading-id3" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href=" ../../post/">Blog</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://discord.gg/SHHSZaH">Discord</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/discussions">Forum</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20210614181229/https://anchor.fm/ourmachinery">Podcast</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
            </div>
    </div>
  
    <footer class="b-sidebar-footer">
      <div class="d-flex justify-content-center text-dark text-center">
        <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/tutorials/" aria-label="Opens Tutorial" type="button" class="btn btn-outline-primary m-1"><span class="icon icon-book align-middle"></span> <span class="align-middle text-uppercase font-monospace">Tutorials</span></a>
        <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/apidoc/apidoc.html" aria-label="Opens API Documentation" type="button" class="btn btn-outline-primary m-1"><span class="icon icon-document align-middle"></span> <span class="align-middle text-uppercase font-monospace">Documentation</span></a>
    </div>
      <div class="bg-yellow d-grid gap-2 text-light text-center">
        <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/beta.html" aria-label="Opens Download Page" type="button" class="btn btn-outline-light m-2"><span class="icon icon-download align-middle"></span> <span class="align-middle text-uppercase font-monospace">Download Now</span></a>
    </div>
  </footer>
  
    </div>

    </nav>
  <main>


<section class="mt-5 container">

  <article class="post">
    <header class="post-blog mx-auto">
      <div class="mb-5 clearfix" role="group" aria-label="Basic example">
          <a href=" ../../" type="button" class="btn btn-primary float-start">
            <ion-icon name="chevron-back-outline" class="align-middle" style="padding-right:0.2em"></ion-icon> <span class="align-middle">All Blogs</span>
          </a>
          <div class="float-end">
          
           
        </div>
        </div>
      </div>

      <div class="d-grid d-md-flex gap-2 pb-3 pb-md-0 mb-2">
        <div class="flex-grow-1">
          <h1>The Machinery Beta — May 2021 (version 2021.5)</h1>
        </div>
      </div>

      <p>
        <time class="post-date" datetime=" 2021-05-27T00:00:00Z">
          May 27, 2021
        </time>
      </p>



    </header>

    <section class="text-break post-blog mx-auto">
      <p>Here at Our Machinery, we’re pretty excited about the flexibility of The Machinery. It offers
options in customizing both the engine <em>and</em> the tooling to create unique game experiences as well
as to build custom tools and general applications. This month, as usual, we’ve got a bunch of new
features for you to explore.</p>
<p>If you are already running The Machinery, this new release should pop up in your <em>Downloads</em> tab.
Otherwise, get it from our <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/beta.html">beta download page</a> and have a look
at this quick <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/beta.html">introduction video</a>. If you find bugs in this
release or have requests for specific features, post them to our <a href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues">issue
tracker</a>. For more general discussions,
hit us up on <a href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/discussions">GitHub discussions</a>
or <a href="http://web.archive.org/web/20210614181229/https://discordapp.com/channels/690290013585408136/691973584612229191">Discord</a>.</p>
<p>Key highlights in this release are:</p>
<ul>
<li>
<p><a href="index.html#animation-constraints">Animation Constraints</a></p>
</li>
<li>
<p><a href="index.html#screen-space-ambient-occlusion">Screen Space Ambient Occlusion</a></p>
</li>
<li>
<p><a href="index.html#entity-context-update-ordering">Entity Context Update Ordering</a></p>
</li>
</ul>
<p>As always, we also have a number of <a href="index.html#foundation">smaller updates</a>.</p>
<h2 id="animation-constraints">Animation Constraints</h2>
<p>We’ve added a <em>Constraint Component</em> to The Machinery. This component can be used to modify
animations by repositioning nodes and entities in various ways. For example, a Fabrik IK chain can
be used to make a character reach for a certain target.</p>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block mx-auto" alt="Using a Fabrik IK chain constraint to position the character’s finger at a specific target position." src="../../images/beta_21_5__fabrik.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>Using a Fabrik IK chain constraint to position the character’s finger at a specific target position.</h4>
    </figcaption>
  </figure>
<p>As another example, you can a Verlet chain to run a local physics simulation for the constrained
nodes. This can be used to simulate things such as hair braids, clothing items, gear attachments,
broken limbs, etc.</p>
<figure>
   <iframe width="800" height="450" src="http://web.archive.org/web/20210614181229if_/https://www.youtube.com/embed/ycnfV4vCF9Q" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    <figcaption>
        <h4>Using a Verlet physics constraint to simulate a broken right arm.</h4>
    </figcaption>
</figure>
<p>Simulating a broken right arm using Verlet physics.</p>
<p>Animation constraints can be connected to the state machine, so that they are enabled only for
certain animation states. They can also be scripted using our visual scripted language.</p>
<h2 id="screen-space-ambient-occlusion">Screen Space Ambient Occlusion</h2>
<p>We&rsquo;ve added a screen space ambient occlusion (SSAO) component implementing“Ground Truth Ambient
Occlusion” adapted for The Machinery.</p>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block mx-auto" alt="SSAO component visualization." src="../../images/beta_21_5__ssao.jpeg"/>
    <figcaption class="figure-caption fs-5">
        <h4>SSAO component visualization.</h4>
    </figcaption>
  </figure>
<p>The implementation is based on the slides from <a href="http://web.archive.org/web/20210614181229/https://blog.selfshadow.com/publications/s2016-shading-course/activision/s2016_pbs_activision_occlusion.pdf">Practical Real-Time Strategies for Accurate Indirect
Occlusion</a>
presented at Siggraph 2016.</p>
<h2 id="entity-context-update-ordering">Entity Context Update Ordering</h2>
<p>You can now control the update order of engines and systems in the entity context, using the
<code>before_me</code> and <code>after_me</code> fields of
<a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/plugins/entity/entity.h.html#structtm_engine_system_common_i"><code>tm_engine_system_common_i</code></a>.
These fields can be used to define engines and systems that must be scheduled before or after the
system you are registering.</p>
<p>Note that these fields only control scheduling, not parallelism. I.e., you are just saying that the
other system should <em>start</em> before you start, not that it needs to <em>finish</em> before you start.
Parallelism is controlled, as before, by what components a system reads or writes. There is also an
<code>exclusive</code> flag that you can use for components or systems that need exclusive access to the
computer when they run.</p>
<p>We’ve added GraphViz visualization support to the system too, so that you can quickly inspect when
different systems get scheduled, what runs in parallel and where the synchronization points are.
This is what it looks like with The Machinery’s default setup:</p>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block mx-auto" alt="Default update order for The Machinery." src="../../images/beta_21_5__update_order.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>Default update order for The Machinery.</h4>
    </figcaption>
  </figure>
<p>The nodes with gray backgrounds are marked as exclusive. As you can see from the picture above, most
of the engines run serially because they are all either reading or writing the <em>Transform</em>
component, which means they can’t be scheduled simultaneously. Note that this doesn’t mean that
we’re running serially, because there is still parallelization <em>within</em> each engine.</p>
<h2 id="foundation">Foundation</h2>
<ul>
<li><a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/foundation/sprintf.h.html"><code>tm_sprintf_api</code></a> adds support for printing and logging custom types.</li>
<li><a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/foundation/os.h.html#structtm_os_file_io_api"><code>tm_os_file_io_api</code></a> now uses an explicit <code>valid</code> flag in returned structs instead of <code>is_valid()</code> callback functions.</li>
<li><a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/foundation/os.h.html#structtm_os_system_api"><code>tm_os_system_api</code></a> now has an <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/foundation/os.h.html#structtm_os_system_api.execute_in_background()"><code>execute_in_background()</code></a> function for executing non-blocking processes.</li>
<li>A new string type for ranged strings <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/foundation/api_types.h.html#structtm_str_t"><code>tm_str_t</code></a> has been added. <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/foundation/path.h.html"><code>tm_path_api</code></a> now uses this to split paths in a more performant and user friendly way.</li>
<li>The new <code>__ZIG__</code>  macro can be defined to make headers more compatible with Zig’s <code>@cInclude</code>. This makes it easier to extend The Machinery with plugins written in Zig.</li>
<li>We now use the built-in <code>static_assert</code> macro where available.</li>
<li>The <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/foundation/api_types.h.html#tm_inherits()"><code>TM_INHERITS()</code></a> macro is now used to mark inheritance in structs.</li>
<li>Fix for a crash when the size of the asset database exceeds 4GB.</li>
</ul>
<h2 id="editor">Editor</h2>
<ul>
<li>Fix for <em>Add Component</em> button in <em>Properties</em> view not working. [<a href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues/552">#552</a>]</li>
<li>Fix for error when selecting the <em>Scale</em> tool in the <em>Scene</em> tab. [<a href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues/553">#553</a>]</li>
<li>It is now possible to copy the value of a subobject and paste its values onto another subobject, if the type matches.</li>
<li>It is now possible to jump between subobject items using the tab key and toggle their expanded state using space or enter.</li>
<li>Tabs can now be pinned and unpinned by hovering them and pressing <em>F4</em>.</li>
<li>There is now a setting for opting out of Google Analytics tracking.</li>
<li>The <em>Properties</em> window will now autoscroll when tabbing between control. [<a href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues/376">#376</a>]</li>
<li>You can now use the freeflight camera in the <em>Simulation</em> tab when simulation is paused.</li>
<li>You can now compress multiple animations by using multi-select in the <em>Asset Browser</em>.</li>
<li>You can now re-import multiple DCC assets by using multi-select in the <em>Asset Browser</em>.</li>
<li>You can now create .clips from multiple animations by using multi-select in the <em>Asset Browser</em>.</li>
</ul>
<h2 id="build">Build</h2>
<ul>
<li>VS2017 support has been removed. We now require either VS2019 or clang.</li>
</ul>
<h2 id="utilities">Utilities</h2>
<ul>
<li>The <code>encode-c-string</code> utility has been removed and been replaced with a webpage <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/test/encode_c_string.html">encode_c_string.html</a> that live encodes and decodes C strings.</li>
<li>Fixed various small bugs and added new supported syntaxes in the Shader Language Extension.</li>
</ul>
<h2 id="plugins">Plugins</h2>
<ul>
<li>Hot-reloading of DLLs is now more stable.</li>
</ul>
<h2 id="graphs">Graphs</h2>
<ul>
<li>When changing the prototype of a graph, we now try to copy over any input values by matching on name and type. This is done using a new aspect called <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com//apidoc/plugins/editor_views/properties.h.html#tm_tt_prop_aspect__properties__reprototype_callback"><code>TM_TT_PROP_ASPECT__PROPERTIES__REPROTOTYPE_CALLBACK</code></a> which lets you define a callback to be run after a prototype change happens.</li>
<li>Clicking a node that is overlapped by another one now brings that node to the front.</li>
<li>World positions are now available in the <code>INIT</code> graph event. [<a href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues/486">#486</a>]</li>
<li>Graphs no longer get marked as dirty when navigating between parents and subgraphs. [<a href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues/557">#557</a>]</li>
</ul>
<h2 id="creation-graph">Creation Graph</h2>
<ul>
<li>Inputs now have a name, so that they can be set from code.</li>
<li>Added a Construct Transform node for creating a transform matrix from a position, rotation and scale.</li>
<li>GPU Simulation nodes previously only supported 1-dimensional vectors and matrices. We now allow the user to specify up to 4 rows, for creating <em>N × M</em> matrices.</li>
<li><code>Lit</code> output node now supports opacity cutoff when ray traced.</li>
<li>Fix for broken lighting code in <code>Billboards</code> output node.</li>
<li><code>Input Image Archive</code> now computes the image validity hash from the actual image data rather then using the filename and time stamp.</li>
<li><code>View Vector</code> node now guarantees that the view vector is normalized.</li>
<li>Fixed bug in <code>UV Sphere</code> node causing a broken mesh after tweaking its input data.</li>
<li><code>Draw Call</code> node now supports LOD Settings for specifying level of detail culling conditions.</li>
<li><code>dcc-mesh-lod</code> is a new creation graph prototype found in core that shows how to use the new LOD Settings on the <code>Draw Call</code> node to setup a system for doing mesh LOD.</li>
<li><code>dcc-material-opacity</code> is a new creation graph prototype found in core that automatically gets instantiated for imported materials if we detect that they aren’t fully opaque.</li>
<li>Added Perlin and Worley noise node.</li>
<li>Added a Fractal Brownian motion node.</li>
<li>Input evaluation contexts can be defined for shader output nodes.</li>
</ul>
<h2 id="rendering">Rendering</h2>
<ul>
<li>Path tracing debug view is now available if hardware accelerated ray tracing is supported.</li>
<li>Color spaces now support build in transfer functions like Vulkan’s sRGB formats.</li>
<li>Added function to visualize a render graph using Graphviz format.</li>
<li>Improved AMD and Intel driver support .</li>
<li>Added near full support for Vulkan formats.</li>
<li>Added <code>output_system</code> that deals with color space conversions.</li>
<li>Bug fix for broken near- and far plane view frustum culling.</li>
<li>Expose shadow extrusion distance for directional lights.</li>
<li>Clip geometry to near plane when rendering shadow maps cascades.</li>
</ul>
<h2 id="documentation">Documentation</h2>
<ul>
<li>Better documentation of the tag component. [<a href="http://web.archive.org/web/20210614181229/https://github.com/OurMachinery/themachinery-public/issues/507">#507</a>]</li>
<li>Capital letters now work in documentation search.</li>
</ul>
<h2 id="ui-components">UI Components</h2>
<ul>
<li>Implemented UI Elements selection mechanism.</li>
<li>UI Elements are draggable now.</li>
<li>Keep common properties when switching elements types.</li>
</ul>
      


<section>
  <h5>by <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/authors/team" class="text-decoration-none">The Machinery Team</a></h5>
</section>


    </section>
    <footer class="mt-5 mb-5">
      <hr>

      <div class="d-flex">
    <div class="me-auto">
        <a href=" ../../post" type="button" class="btn btn-primary">
            <ion-icon name="chevron-back-outline" class="align-middle" style="padding-right:0.2em"></ion-icon> <span class="align-middle">All Blogs</span>
        </a>
    </div>
    
    <a class="icon icon-twitter me-1" style="font-size: 1.2em" href="http://web.archive.org/web/20210614181229/https://twitter.com/share?text=The%20Machinery%20Beta%20%e2%80%94%20May%202021%20%28version%202021.5%29 - Our%20Machinery&amp;url=https%3a%2f%2fourmachinery.com%2fpost%2fbeta-2021-5%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon icon-pinterest me-1" style="font-size: 1.2em" href="http://web.archive.org/web/20210614181229/https://pinterest.com/pin/create/button/?url=https%3a%2f%2fourmachinery.com%2fpost%2fbeta-2021-5%2f&amp;description=The%20Machinery%20Beta%20%e2%80%94%20May%202021%20%28version%202021.5%29" onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
        <span class="hidden">Pinterest</span>
    </a>
    
</div>

      <div class="mt-5">
        

<p>The comment system uses a session cookie to keep track of your signed-in status. This cookie is
created when you sign in with GitHub. If you don't sign in, no cookie is created.</p>




      </div>

      
      <div class="container mb-5 mt-5">
        <div class="row">
          <h3>Previous Posts</h3>
          <hr>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
          
              <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <a href=" ../../post/beta-2021-4/" class="text-decoration-none"><img src="../../images/beta_21_4__triggers.png" class="card-img-top" alt="The Machinery Beta — April 2021 (version 2021.4)"></a>
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/beta-2021-4/">The Machinery Beta — April 2021 (version 2021.4)</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-04-29T00:00:00Z">
                      29 Apr 2021
                    </time>
                  </h6>
                  <p class="card-text">It’s that time again! A new month and a new The Machinery release. Hope you are enjoying the longer, sunnier days, as …</p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/beta-2021-4/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">7 min</small>
                </div>
              </div>
        </div>
         <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <a href=" ../../post/gamepad-implementation-on-linux/" class="text-decoration-none"><img src="../../images/gamepad__gamepad.png" class="card-img-top" alt="Gamepad Implementation on Linux"></a>
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/gamepad-implementation-on-linux/">Gamepad Implementation on Linux</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-04-26T00:00:00Z">
                      26 Apr 2021
                    </time>
                  </h6>
                  <p class="card-text"><p>Hey everyone! If you remember my last
<a href=" ../../post/porting-the-machinery-to-linux/">post</a>, one of the missing features
was joystick support on Linux, which I’d say is …</p></p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/gamepad-implementation-on-linux/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">7 min</small>
                </div>
              </div>
        </div>
         <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/dig-shallow-graves/">Dig Shallow Graves</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-04-08T00:00:00Z">
                      8 Apr 2021
                    </time>
                  </h6>
                  <p class="card-text"><p>Recently I’ve been trying to help our interns with API design and I figured I should write something
about it.</p>
<p>If I have …</p></p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/dig-shallow-graves/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">17 min</small>
                </div>
              </div>
        </div>
        
      </div>
      </div>
    </footer>
  </article>

</section>

</main>

<footer class="container-fluid mt-auto page-footer-bg">
    <div class="mx-auto d-flex justify-content-center w-100 pt-5 pb-5">
        <img alt="trees" src=" ../../post/beta-2021-5/&#32;https:/ourmachinery.com/images/trees.png" style="height: 84.38px; width: 150px;">
    </div>
    <div class="page-info">
        <p class="float-end">
            
            <a href="http://web.archive.org/web/20210614181229/https://twitter.com/ourmachinery" target="_blank" class="icon icon-twitter fs-4"></a>
            
            <a href="http://web.archive.org/web/20210614181229/https://instagram.com/ourmachinery" target="_blank" class="icon icon-instagram fs-4"></a>
            
            <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/index.xml" target="_blank" class="icon icon-feed fs-4"></a>
            
            <a href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/cdn-cgi/l/email-protection#d7a7beb9b097b8a2a5bab6b4bfbeb9b2a5aef9b4b8ba" target="_blank" class="icon icon-mail fs-4"></a>
            
        </p>
        <p>&copy; Our Machinery 2021 <a style="text-decoration:none; margin-left:1em;" href="http://web.archive.org/web/20210614181229/https://ourmachinery.com/privacy.html">Privacy Policy</a></p>
    </div>
</footer>
<script data-cfasync="false" src="http://web.archive.org/web/20210614181229js_/https://ourmachinery.com/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    (async ()=>{
        initLogin();
        let user = await backend.getUserProfile(localStorage.sessionToken);
        var elements = document.querySelectorAll('.om-gravatar');
        elements.forEach(e=>{
            if(user.ok){
                e.classList.remove("d-none");
                e.setAttribute("src","http://web.archive.org/web/20210614181229/https://www.gravatar.com/avatar/"+md5(user.email)) 
            }
        });
    })();
</script>
<script type="module" src="../../unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule="" src="../../unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.js"></script>
</body>

</html><!--
     FILE ARCHIVED ON 18:12:29 Jun 14, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:51:49 Aug 01, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 170.59
  exclusion.robots: 0.12
  exclusion.robots.policy: 0.113
  cdx.remote: 0.069
  esindex: 0.009
  LoadShardBlock: 143.336 (3)
  PetaboxLoader3.datanode: 169.403 (4)
  CDXLines.iter: 13.718 (3)
  load_resource: 67.667
  PetaboxLoader3.resolve: 26.171
-->