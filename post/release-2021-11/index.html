











<!DOCTYPE html>
<html lang="en">

<head>

<script type="text/javascript" src="../../_static/js/bundle-playback.js@v=KTqwAcYd" charset="utf-8"></script>

<script type="text/javascript">
  
  

</script>
<link rel="stylesheet" type="text/css" href="../../_static/css/banner-styles.css@v=fantwOh2.css" />
<link rel="stylesheet" type="text/css" href="../../_static/css/iconochive.css@v=qtvMKcIJ.css" />
<!-- End Wayback Rewrite JS Include -->

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/manifest.json">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="../../images/favicon.ico">
  <link rel="apple-touch-icon" href="../../images/apple-touch-icon.png"/>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Release notes for the November 2021 (2021.11) version of the Machinery."/>
  

  
  <meta name="twitter:card" content="summary_large_image"/>
  
  
  <meta name="twitter:image" content="../../images/release_21_11__animation_curves.png"/>
  
  <meta name="twitter:title" content="The Machinery — November 2021 (version 2021.11)">
  <meta name="twitter:description" content="Release notes for the November 2021 (2021.11) version of the Machinery."/>
  
  <meta name="twitter:site" content="@ourmachinery"/>

  
  <meta property="og:title" content="The Machinery — November 2021 (version 2021.11) · Our Machinery"/>
  <meta property="og:site_name" content="Our Machinery"/>
  <meta property="og:url" content=" ../../post/release-2021-11/"/>
  
  <meta property="og:image" content="../../images/release_21_11__animation_curves.png"/>
  
  
  <meta property="og:description" content="Release notes for the November 2021 (2021.11) version of the Machinery."/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content=" 2021-11-30T00:00:00Z"/>
  

  <title>The Machinery — November 2021 (version 2021.11) &middot; Our Machinery</title>

  

  
  
  <link type="text/css" rel="stylesheet" href="../../css/bootstrap.min.css" media="screen, print"/>
  <link type="text/css" rel="stylesheet" href="../../css/style.min.css" media="screen, print"/>
  

  
  
  <link href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/index.xml" rel="alternate" type="application/rss+xml" title="Our Machinery"/>
  

  <link rel="canonical" href="index.html"/>

  
  
  <script>

      
    
    

  </script>
  

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>

  
  <link rel="stylesheet" href="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">
  <script src="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  
  <script type="text/javascript" src="../../js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="../../js/page.min.js?v=1.16"></script>
  
  
  








<script type="application/ld+json">
{
    "@context": "http://web.archive.org/web/20211202012605/https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "url":"http:\/\/web.archive.org\/web\/20211202012605\/https:\/\/ourmachinery.com\/",
        "email":"ping@ourmachinery.com",
        "image": {
            "@type": "ImageObject",
            "url": "/images/full-logo.png"
        },
        "name":"Our Machinery",
        "description":""
    },
    "author": {
        "@type": "Person",
        "name": "The Machinery Team",
        "email": "ping@ourmachinery.com",
        
        "website":"http:\/\/web.archive.org\/web\/20211202012605\/https:\/\/ourmachinery.com\/"
        
        
        
    },
    "headline": "The Machinery — November 2021 (version 2021.11)",
    "name": "The Machinery — November 2021 (version 2021.11)",
    "wordCount":  2184 ,
    "timeRequired": "PT11M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": "en"
    },
    "url": " ../../post/release-2021-11/",
    "datePublished": "2021-11-30T00:00Z",
    "dateModified": "2021-11-30T00:00Z",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://web.archive.org/web/20211202012605/https://ourmachinery.com/release_21_11__animation_curves.png"
    },
    
    
    "description": "Release notes for the November 2021 (2021.11) version of the Machinery."
}
    </script>


</head>
<body class="d-flex flex-column min-vh-100">
       <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="../../">
          <img src="../../images/full-logo.png" alt="Our Machinery Logo" width="250" height="75">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar-1" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="d-none d-lg-block" id="navbarCollapse">
          <ul class="navbar-nav  ms-auto mb-2 mb-md-0 align-items-center">
            
            
            <li>
            <li class="nav-item">
               
            </li>
            </li>
            
            
            
            <li>
            <li class="nav-item">
               
            </li>
            </li>
            
            
            
             
            
            
            
             
            
            
            
             
            
            
            
            <li class="nav-item dropdown" style="height:40px;min-width:58px;">
              <a class="text-yellow fs-1 signed-in-only" style="line-height: 1;" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <ion-icon name="person-circle-outline"></ion-icon>
              </a>
              <a class="text-yellow fs-1 signed-out-only" style="line-height: 1;" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <ion-icon name="log-in-outline"></ion-icon>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item signed-out-only d-flex align-items-center" href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/sign-in.html">Sign In <ion-icon class="ms-auto" name="log-in-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-out-only d-flex align-items-center" href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/sign-up.html">Sign Up <ion-icon class="ms-auto" name="create-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-in-only d-flex align-items-center" href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/profile.html">Profile <ion-icon class="ms-auto" name="person-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-in-only d-flex align-items-center" role="button" onclick="signOut(); return false;">Sign Out <ion-icon class="ms-auto" name="log-out-outline"></ion-icon></a></li>
              </ul>
            </li>
            
          </ul>
        </div>
      </div>


      <div id="sidebar" tabindex="-1" role="dialog" aria-modal="false" class="b-sidebar b-sidebar-right collapse shadow bg-dark text-light vh-100">
        <header class="b-sidebar-header">
          <button type="button" aria-label="Close" class="fs-1 btn btn-default text-light float-start" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar-1" aria-expanded="false" aria-label="Toggle navigation">
          <span class="icon icon-close"></span>
        </button>
        <div class=" d-flex justify-content-center">
        <a href="../../"><img src="../../images/full-logo.png" class="om-logo p-2 mb-2 mt-2" alt="Our Machinery Logo" width="100" height="75"></a>
  </div>
      </header>
          <div class="b-sidebar-body overflow-auto">
            <div class="card text-primary">
              
              <div class="card-body d-flex justify-content-center signed-out-only">
                <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/sign-in.html" aria-label="Login" class="btn btn-outline-primary me-2" style="flex: 1;"><span class="icon icon-user align-middle"></span> <span class="align-middle text-uppercase font-monospace">Sign In</span></a>
                <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/sign-up.html" aria-label="Register Account" class="btn btn-outline-primary" style="flex: 1;"><span class="icon icon-edit align-middle"></span> <span class="align-middle text-uppercase font-monospace">Sign Up</span></a>
              </div>
              
              <div class="card-body d-flex justify-content-center signed-in-only">
                <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/profile.html" aria-label="Open Profile" class="btn btn-outline-primary me-2 d-flex" style="max-height: 56; min-height: 56px;"><span class="align-middle align-self-center text-uppercase font-monospace">Profile</span></a>
                <a onclick="signOut(); return false;" class="btn btn-outline-primary  d-flex" style="max-height: 56; min-height: 56px;"><span class="icon icon-lock align-middle align-self-center"></span> <span class="align-middle align-self-center text-uppercase font-monospace">Logout</span></a>
              </div>
            </div>
            <div class="accordion mt-0" id="accordion-menu">
              
              
              
              
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id2">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id2" aria-expanded="false" aria-controls="#collapse-id2">
                      About
                    </button>
                  </h2>
                  <div id="collapse-id2" class="accordion-collapse collapse" aria-labelledby="heading-id2" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/product.html">The Machinery</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/roadmap.html">Roadmap</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/about.html">About Us</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/press.html">Press Kit</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id3">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id3" aria-expanded="false" aria-controls="#collapse-id3">
                      Learning &amp; Support
                    </button>
                  </h2>
                  <div id="collapse-id3" class="accordion-collapse collapse" aria-labelledby="heading-id3" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/apidoc/apidoc.html">API Documentation</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.github.io/themachinery-books/">Books</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/videos.html">Videos</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/samples.html">Sample Projects</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery-public/issues">Issue Tracker</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/academic.html">Academic License</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id4">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id4" aria-expanded="false" aria-controls="#collapse-id4">
                      Community
                    </button>
                  </h2>
                  <div id="collapse-id4" class="accordion-collapse collapse" aria-labelledby="heading-id4" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href=" ../../post/">Blog</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://discord.gg/SHHSZaH">Discord</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery-public/discussions">Forum</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20211202012605/https://anchor.fm/ourmachinery">Podcast</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
            </div>
    </div>
  
    <footer class="b-sidebar-footer w-100">
      <div class="d-flex flex-row">
        <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/tutorials/" aria-label="Opens Tutorial" type="button" class="btn btn-outline-light m-1" style="flex: 1"> <span class="align-middle text-uppercase font-monospace">Tutorials</span></a>
        <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/apidoc/apidoc.html" aria-label="Opens API Documentation" type="button" class="btn btn-outline-light m-1" style="flex: 1"> <span class="align-middle text-uppercase font-monospace">Documentation</span></a>
    </div>

    
 

 
  </footer>
  
    </div>

    </nav>
  <main>


<section class="mt-5 container">

  <article class="post">
    <header class="post-blog mx-auto">
      <div class="mb-5 clearfix" role="group" aria-label="Basic example">
          <a href=" ../../" type="button" class="btn btn-primary float-start">
            <ion-icon name="chevron-back-outline" class="align-middle" style="padding-right:0.2em"></ion-icon> <span class="align-middle">All Blogs</span>
          </a>
          <div class="float-end">
          
           
        </div>
        </div>
      </div>

      <div class="d-grid d-md-flex gap-2 pb-3 pb-md-0 mb-2">
        <div class="flex-grow-1">
          <h1>The Machinery — November 2021 (version 2021.11)</h1>
        </div>
      </div>

      <p>
        <time class="post-date" datetime=" 2021-11-30T00:00:00Z">
          Nov 30, 2021
        </time>
      </p>



    </header>

    <section class="text-break post-blog mx-auto">
      <p>As 2021 is drawing to a close, don’t miss your chance to get in on our <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/pricing.html">Early Adopters
license</a> at half the regular price! We have a number of new
features and bug fixes for you in this release.</p>
<!-- more -->
<p>If you are already running The Machinery, this new release should pop up in your <em>Downloads</em> tab.
Otherwise, get it from our <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/download.html">download page</a> and have a look
at this quick <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/beta.html">introduction video</a>.  We are also working on two
<a href="http://web.archive.org/web/20211202012605/https://ourmachinery.github.io/themachinery-books/">books</a> about The Machinery. One is an
<a href="http://web.archive.org/web/20211202012605/https://ourmachinery.github.io/themachinery-books/the_machinery_book/index.html">overview of the
engine</a> and the
other one <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.github.io/themachinery-books/tutorials/index.html">a collection of
tutorials</a> on how to do
specific things. Note that both these books are still works in progress.</p>
<p>If you find bugs in this release or have requests for specific features, post them to our <a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery-public/issues">issue
tracker</a>. For more general discussions,
hit us up on <a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery-public/discussions">GitHub discussions</a>
or <a href="http://web.archive.org/web/20211202012605/https://discordapp.com/channels/690290013585408136/691973584612229191">Discord</a>.</p>
<p>Key highlights in this release are:</p>
<ul>
<li><a href="index.html#animation-curves">Animation Curves</a></li>
<li><a href="index.html#properties-tab-overhaul">Properties Tab Overhaul</a></li>
<li><a href="index.html#simulation-state-tab">Simulation State Tab</a></li>
</ul>
<p>And as always, we also have a number of <a href="index.html#community-contributions">smaller updates</a>.</p>
<h2 id="animation-curves">Animation Curves</h2>
<p>This version of The Machinery adds support for <em>Animation Curves.</em></p>
<p><em>Animation Curves</em> are animations that are edited directly in The Machinery by manipulating curve
keys. (Note that this is in contrast to character animations which are typically imported from an
animation package.)</p>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block" alt="Editing Animation Curves." src="../../images/release_21_11__animation_curves.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>Editing Animation Curves.</h4>
    </figcaption>
  </figure>
<p>Animation Curves are based on the Entity Property system that was introduced in the <a href=" ../../post/release-2021-10/">October
release</a> and can be used to animate any property
exposed to that system (positions, rotations, light colors, shader variables, etc).</p>
<p>The tree view of the Animation Curve asset first lists the entities that the asset has animations
for. Each entity is identified by its path from the root asset that the Animation Curve is played
on. If you expand an entity, you can see the individual property curves for that entity, identified
by their property paths.</p>
<p>To play an Animation Curve asset you can use the <em>Animation Play Curve</em> node in the entity graph.
Here’s an example with a more complex animation:</p>
<figure class="figure d-block">
    <iframe class="figure-img rounded d-block mx-auto om-yt-sm om-yt-md" src="http://web.archive.org/web/20211202012605if_/https://www.youtube.com/embed/ZQfmoSgY2co" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    <figcaption class="figure-caption fs-5">
        <h4>Using Animation Curves.</h4>
    </figcaption>
</figure>
<p>The plan is to use the Animation Curve system as the foundation for a bigger Cutscene tool. Stay
tuned!</p>
<h2 id="properties-tab-overhaul">Properties Tab Overhaul</h2>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block" alt="The new look of the property panel, with the alternating background colors of nested groups and right-aligned labels." src="../../images/release_21_11__property_panel.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>The new look of the property panel, with the alternating background colors of nested groups and right-aligned labels.</h4>
    </figcaption>
  </figure>
<p>The Properties tab and the <code>tm_properties_view_api</code> have gotten an overhaul. This version
introduces many changes to both the look of the Properties tab as well as the code behind it:</p>
<ul>
<li>
<p>Expandable UI groups now have a background color to make them more distinct from each other.
Nested groups — for example, components within a child entity — use an alternating background
color. To facilitate this we have made the UI groups scoped in the code.</p>
</li>
<li>
<p>The property labels are now right-aligned. This improves readability since the group labels are
still left-aligned.</p>
</li>
<li>
<p>Labels of properties now use a fractional width, making the width resize of the properties panel
more useful.</p>
</li>
<li>
<p>Inherited and disabled subobjects / UI groups can now be expanded and inspected without having to
override them. There is a new <em>Override Tree</em> context menu option for deeply nested items. This
overrides all the objects from the first inherited point to where the context menu is activated.</p>
</li>
<li>
<p>Checkboxes are completely right-aligned.</p>
</li>
<li>
<p>The rectangle of nested UI groups is indented, i.e. it becomes slightly smaller in width for each indentation level.</p>
</li>
</ul>
<p>More in-depth points about properties code changes:</p>
<ul>
<li>
<p>The UI grouping functions of <code>tm_properties_view_api</code> have been renamed since we made them scoped like so:</p>
</li>
<li>
<p>For drawing general tree items:
<code>ui_tree_item()</code> → <code>ui_begin_tree_item()</code> and <code>ui_end_tree_item()</code></p>
</li>
<li>
<p>For drawing general tree items, but have the <code>key</code> automatically calculated using an object ID:
<code>ui_group()</code> → <code>ui_begin_object_tree_item()</code> and <code>ui_end_object_tree_item()</code></p>
</li>
<li>
<p>For drawing subobject set items:
<code>ui_subobject_set_item_header()</code> → <code>ui_begin_subobject_set_item()</code> and <code>ui_end_subobject_set_item()</code></p>
</li>
<li>
<p>The parameters of the UI group functions have been revised and made more consistent, the
differences between the different functions thus become clearer.</p>
</li>
<li>
<p>The previously introduced “inline groups” have been removed since the UI groups are now clear
enough on their own.</p>
</li>
<li>
<p>The <code>indent</code> parameter that was passed to many functions of <code>tm_properties_view_api</code> has been
incorporated into the item rect. Calling functions on API that draw subobjects, or using UI
groups, automatically indents the passed rect. The <code>indent</code> parameter has been completely removed
from all functions in <code>properties.h</code>. The current <code>indent</code> level can still be checked within
<code>tm_properties_ui_args_t</code> but it is not meant to be changed.</p>
</li>
</ul>
<h2 id="simulation-state-tab">Simulation State Tab</h2>
<p>The State of the Simulation can now be inspected via the newly introduced <em>Simulation State</em> tab.
It allows you to find, inspect and edit all the defined <em>properties</em> of the Entities that there are
in the Simulation.</p>
<p>It’s also possible to write the property values from the simulation back to the Scene and make
them permanent. As an example use case for this — you can create natural-looking “piles” of
entities, by simulating them using the physics system and then save those piles back out to the
Scene state.</p>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block" alt="Selected Entities in the Simulation State are Highlighted in yellow" src="../../images/release_21_11__simulation_state.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>Selected Entities in the Simulation State are Highlighted in yellow</h4>
    </figcaption>
  </figure>
<h2 id="community-contributions">Community Contributions</h2>
<ul>
<li>Thanks to <a href="http://web.archive.org/web/20211202012605/https://github.com/lachsinc">IachSinc</a> for fixing a crash when restarting the Simulation. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/issues/783">#783</a>]</li>
<li>Thanks to <a href="http://web.archive.org/web/20211202012605/https://github.com/lachsinc">IachSinc</a> for providing a Shortcut to open the Simulation Tab. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/802">#802</a>]</li>
<li>Thanks to <a href="http://web.archive.org/web/20211202012605/https://github.com/geekrelief">geekrelief</a> for adding support for saving your workspace settings. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/781">#781</a>]</li>
<li>Thanks to <a href="http://web.archive.org/web/20211202012605/https://github.com/jamesmintram">j</a><a href="http://web.archive.org/web/20211202012605/https://github.com/jamesmintram">ames</a><a href="http://web.archive.org/web/20211202012605/https://github.com/jamesmintram">m</a><a href="http://web.archive.org/web/20211202012605/https://github.com/jamesmintram">intram</a> for fixing the handling of custom scaling factors. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/798">#798</a>]</li>
<li>Thanks to <a href="http://web.archive.org/web/20211202012605/https://github.com/Tisten">Tisten</a> for adding verbose flags to unit tests and for unifying the test execution for the <code>foundation</code> project. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/772">#772</a>] [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/773">#7</a><a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/773">73</a>]</li>
<li>Thanks to <a href="http://web.archive.org/web/20211202012605/https://github.com/Tisten">Tisten</a> for fixing a crash when saving projects. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/809">#809</a>]</li>
<li>Thanks to <a href="http://web.archive.org/web/20211202012605/https://github.com/geekrelief">geekrelief</a> for adding support for enabling/disabling throttling in the interface settings. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/780">#780</a>]</li>
<li>Thanks to <a href="http://web.archive.org/web/20211202012605/https://github.com/geekreliefhttps://github.com/jamesmintram">jamesmintram</a> for fixing a crash when references do not exist in the collision lookup hash. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery/pull/799">#799</a>]</li>
</ul>
<h2 id="project-management">Project Management</h2>
<ul>
<li>Fixed a bug where maximized windows weren’t restored correctly when opening a project. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery-public/issues/864">#864</a>].</li>
<li>Added <code>tm_settings_api</code>. Plugins can now define their own persistent global or project-specific settings.</li>
</ul>
<h2 id="properties">Properties</h2>
<ul>
<li>Fixed a bug where it wasn’t possible to remove a Tag from an entity with an overridden Tag component. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery-public/issues/879">#879</a>]</li>
<li>Spotlights now use sliders for inner and outer angles.</li>
<li>Added the aspect <code>TM_TT_PROP_ASPECT__PROPERTIES__UNIT</code> which can be set on float properties. The implementation of the aspect is a callback that returns a string representing the unit of the property. If set, the callback will be run when the property is drawn and the unit displayed next to the property.</li>
<li>Components are now only auto-expanded on the first indentation level.</li>
<li>Fixed issues where tabbing between controls that had pickers didn’t work properly.</li>
</ul>
<h2 id="physics">Physics</h2>
<ul>
<li>PhysX shapes are now correctly updated when a child entity is deleted or a rigid body component added to it. [<a href="http://web.archive.org/web/20211202012605/https://github.com/OurMachinery/themachinery-public/issues/881">#881</a>]</li>
<li>Fixed a bug where Physx heightfield shapes weren’t correctly positioned.</li>
<li>Added flags to lock linear and angular axis in <code>Physics Body Component</code>.</li>
<li>Fixed an issue that could cause the Character Mover to float above the ground.</li>
</ul>
<h2 id="asset-pipeline">Asset Pipeline</h2>
<ul>
<li>Fix for DCC asset extraction not keeping track of extracted materials properly in the case of multi-editing being used to do multi-asset-extraction.</li>
</ul>
<h2 id="simulation">Simulation</h2>
<ul>
<li>Fixed a bug where the default camera wasn’t restored when switching scenes.</li>
<li>It’s now possible to cap the frame rate of the Simulate Tab to some common values.</li>
<li>Fixed a memory leak when a Simulation Entry didn’t have a <code>shutdown()</code> method.</li>
</ul>
<h2 id="scene-tab">Scene Tab</h2>
<ul>
<li>The snapping for the scaling gizmo now works more like the snapping for the move gizmo.</li>
<li>Fixed Duplicate being broken in the Scene Tab.</li>
</ul>
<h2 id="graph">Graph</h2>
<ul>
<li>Added a watermark to better distinguish Graph Instances.</li>
<li>Fixed a bug where the Properties panel had to be open for subgraph nodes to be initialized correctly.</li>
<li>Fixed a bug where multiple levels of graph inheritance led to the graph not being able to figure out if connections were in conflict with each other or not. The new approach also comes with the benefit that the graph code became simpler since the conflict checks are now more functional and thus involve less state tracking.</li>
<li>Fixed a one-pixel glitch in node headers seen under certain zoom levels.</li>
<li>While making a new connection, you now just need to hover the label of the connector for the connection to snap to the connector.</li>
</ul>
<h2 id="entity-graph">Entity Graph</h2>
<ul>
<li>The Entity Debugger has been polished.</li>
<li>Fixed a bug where the <code>add tag</code> and <code>has tag</code> nodes weren’t compiled correctly.</li>
<li>Auto-complete of render component properties now works.</li>
</ul>
<h2 id="creation-graph">Creation Graph</h2>
<ul>
<li>The <code>Lit</code> node now has support for a Clear Coat layer by connecting Clear Coat Properties constructed using the <code>Construct Clear Coat Properties</code> node.</li>
<li>Fixed a bug where the dependency tracking did not discover deleted assets in some cases leading to undefined behavior.</li>
<li>Removed the reference counting mechanism for GPU resources created by <code>DCC Asset</code>-nodes as it sometimes didn&rsquo;t behave as expected leading to undefined behavior.</li>
</ul>
<h2 id="core">Core</h2>
<ul>
<li>Updated the <code>dcc-mesh</code> and <code>dcc-material</code> creation graph prototypes to have decent default names for constant variables and draw calls.</li>
<li>Fixed a deadlock when opening a project in need of a core update while hosting a collaboration session.</li>
</ul>
<h2 id="accessibility">Accessibility</h2>
<ul>
<li>Added <code>tm_ui_api-&gt;theme_is_high_contrast()</code> which can be used to check if the current theme is a high contrast theme, or based on a high contrast theme. This can be used to do additional things on top of just color customization, such as adding extra borders to UI elements.</li>
</ul>
<h2 id="console-tab">Console Tab</h2>
<ul>
<li>Added Filters for the console tab for Debug, Info, and Error Messages as well as a toolbar.</li>
</ul>
<h2 id="ui">UI</h2>
<ul>
<li>Introducing Indirection Index Buffers. These can be used to draw things behind other things without forcing the user to do any index buffer copying tricks. It works by <code>tm_ui_api-&gt;create_indirection_ibuffer()</code> creating <code>tm_draw2d_ibuffer_t</code> objects that actually have a special index buffer as their backing buffer. So the user can use the return value as a normal index buffer. You can feed the function the index in the index buffer where you want your UI elements to be injected, it will be sorted out automatically at the end of the frame.</li>
<li>Added <code>TM_UI_BUFFER_USER</code> as a buffer assignable to the <code>buffer</code> of <code>tm_ui_style_t</code>. It can be used like this in combination with Indirection Index Buffers:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">tm_draw2d_ibuffer_t <span style="color:#f92672">*</span>ibuf <span style="color:#f92672">=</span> tm_ui_api<span style="color:#f92672">-&gt;</span>create_indirection_ibuffer(ui, TM_UI_BUFFER_MAIN, index_buffer_injection_idx);
uistyle<span style="color:#f92672">-&gt;</span>buffer <span style="color:#f92672">=</span> TM_UI_BUFFER_USER;
uib.ibuffers[TM_UI_BUFFER_USER] <span style="color:#f92672">=</span> ibuf;
</code></pre></div><ul>
<li>The background color of the padding around scrollbars has been changed to something that differs from the default tab background color so that they do not blend together.</li>
<li>Buttons and push buttons in the dark theme now have clearer background color while active.</li>
<li>Fixed a crash that would occur if no icon font was loaded.</li>
</ul>
<h2 id="entity-tree">Entity Tree</h2>
<ul>
<li>Fixed a bug in the Entity Tree where the entity wasn’t deselected correctly when locked.</li>
<li>The Override and Remove Override behavior in the Entity Tree is now the same as in the properties panel. Ctrl + Double Click overrides, Ctrl + Shift + Double Click removes overrides. This is hinted at in the context menu.</li>
</ul>
<h2 id="foundation">Foundation</h2>
<ul>
<li>Added a new physical camera mode that is specified in focal length and sensor size.</li>
<li>The color spaces plugin has been promoted to the Foundation.</li>
<li><code>tm_hash_get()</code> is now thread-safe as long as the hash is not being modified by another thread.</li>
</ul>
<h2 id="tmbuild">tmbuild</h2>
<ul>
<li>Added support for Visual Studio 2022.</li>
</ul>
<h2 id="docgen">docgen</h2>
<ul>
<li>Added <code>-c</code> flag which does a dry run and outputs any error in your documentation.</li>
</ul>
<h2 id="rendering">Rendering</h2>
<ul>
<li>Render-graph-toolbox debug visualization resources can now be pre-exposed.</li>
<li><code>tmsl</code> now supports the <code>maxvertexcount</code> hlsl attribute.</li>
<li>Fixed a GPU memory corruption bug when many big blocks were allocated.</li>
<li>Added full support for Adobe RGB and Display-P3 color spaces.</li>
<li>Vulkan: Fixed an issue in the TLSF allocator when the remainder block becomes smaller than 32 bytes.</li>
<li>Vulkan: Fixed an issue with memory budget calculations overflowing 32 bits.</li>
<li>Vulkan: Fix for incorrectly returning <code>VK_ERROR_OUT_OF_HOST_MEMORY</code> instead of <code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code> in Vulkan device memory allocators.</li>
<li>Vulkan: Executing ray tracing work on AMD RDNA2/RX6000-series GPUs now works as expected.</li>
<li>Removed unnecessary dependencies on the <code>tm_default_render_pipe_api</code>.</li>
<li>Fix for hit/closes/miss/any/intersection shaders not correctly using <code>NonUniformResourceIndex()</code> when indexing resources.</li>
<li>We now store two copies of main depth stencil- and gbuffer1-targets (storing normal and roughness) as persistent resources and ping-pong cycle between them to have access to last frames data for disocclusion queries.</li>
<li>Fixed Vulkan validation warning in thumbnail rendering.</li>
<li>Exposed last frames inverse view-projection matrix to the viewer system.</li>
<li>Shader blobs now also store human-readable names of constants and resources.</li>
<li>The Render Graph no longer allocates memory for persistent resources unless they are referenced by an active pass.</li>
<li>Fixed a bug in the SSR shaders sometimes resulting in Inf/NaN being written to the HDR accumulation buffer.</li>
<li>The TAA settings are now persistent settings stored in the project.</li>
<li>Made it possible to change the default viewport background color.</li>
</ul>
<h2 id="plugins">Plugins</h2>
<ul>
<li>The Project is now reloaded when turning Safe Mode on and off so that project-specific plugins can be loaded/unloaded.</li>
<li>Better error messages are now printed as to why a specific plugin is loaded or not.</li>
<li>Settings for “Always Run” and “Always Deny” DLLs can now be edited in the editor.</li>
</ul>
<h2 id="the-truth">The Truth</h2>
<ul>
<li>Settings for Truth properties (such as <code>.tooltip</code>, etc) are now reloaded on hot reload. Note that it is still not possible to add or remove properties during hot reload since that would break existing loaded Truths.</li>
</ul>
<h2 id="animation">Animation</h2>
<ul>
<li>Fix for a race condition in animation state machine triggers.</li>
<li>Added support for triggers on animation states that are blending out.</li>
</ul>

      


<section>
  <h5>by <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/authors/team" class="text-decoration-none">The Machinery Team</a></h5>
</section>


    </section>
    <footer class="mt-5 mb-5">
      <hr>

      <div class="d-flex">
    <div class="me-auto">
        <a href=" ../../post" type="button" class="btn btn-primary">
            <ion-icon name="chevron-back-outline" class="align-middle" style="padding-right:0.2em"></ion-icon> <span class="align-middle">All Blogs</span>
        </a>
    </div>
    
    <a class="icon icon-twitter me-1" style="font-size: 1.2em" href="http://web.archive.org/web/20211202012605/https://twitter.com/share?text=The%20Machinery%20%e2%80%94%20November%202021%20%28version%202021.11%29 - Our%20Machinery&amp;url=https%3a%2f%2fourmachinery.com%2fpost%2frelease-2021-11%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon icon-pinterest me-1" style="font-size: 1.2em" href="http://web.archive.org/web/20211202012605/https://pinterest.com/pin/create/button/?url=https%3a%2f%2fourmachinery.com%2fpost%2frelease-2021-11%2f&amp;description=The%20Machinery%20%e2%80%94%20November%202021%20%28version%202021.11%29" onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
        <span class="hidden">Pinterest</span>
    </a>
    
</div>

      <div class="mt-5">
        

<p>The comment system uses a session cookie to keep track of your signed-in status. This cookie is
created when you sign in with GitHub. If you don't sign in, no cookie is created.</p>




      </div>

      
      <div class="container mb-5 mt-5">
        <div class="row">
          <h3>Previous Posts</h3>
          <hr>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
          
              <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <a href=" ../../post/release-2021-10/" class="text-decoration-none"><img src="../../images/release_21_10__multiplayer.png" class="card-img-top" alt="The Machinery — October 2021 (version 2021.10)"></a>
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/release-2021-10/">The Machinery — October 2021 (version 2021.10)</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-10-28T00:00:00Z">
                      28 Oct 2021
                    </time>
                  </h6>
                  <p class="card-text">Things are getting darker and colder in Seattle and Stockholm, where we have our main offices. What a perfect time to …</p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/release-2021-10/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">9 min</small>
                </div>
              </div>
        </div>
         <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/the-machinery-network-frontier-part-1/">The (Machinery) Network Frontier -- Part 1</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-10-25T00:00:00Z">
                      25 Oct 2021
                    </time>
                  </h6>
                  <p class="card-text">One of our goals for 2021 is to let users create multiplayer games with The Machinery. The systems I’m going to describe …</p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/the-machinery-network-frontier-part-1/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">9 min</small>
                </div>
              </div>
        </div>
         <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <a href=" ../../post/release-2021-9/" class="text-decoration-none"><img src="../../images/release_21_9__ssr.png" class="card-img-top" alt="The Machinery — September 2021 (version 2021.9)"></a>
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/release-2021-9/">The Machinery — September 2021 (version 2021.9)</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-09-30T00:00:00Z">
                      30 Sep 2021
                    </time>
                  </h6>
                  <p class="card-text">A new month and as usual, we have a new release for you with new features and bug fixes. If you want to know what we are …</p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/release-2021-9/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">10 min</small>
                </div>
              </div>
        </div>
        
      </div>
      </div>
    </footer>
  </article>

</section>

</main>

<footer class="container-fluid mt-auto page-footer-bg">
    <div class="mx-auto d-flex justify-content-center w-100 pt-5 pb-5">
        <img alt="trees" src=" ../../post/release-2021-11/&#32;https:/ourmachinery.com/images/trees.png" style="height: 84.38px; width: 150px;">
    </div>
    <div class="page-info">
        <p class="float-end">
            
            <a href="http://web.archive.org/web/20211202012605/https://twitter.com/ourmachinery" target="_blank" class="icon icon-twitter fs-4"></a>
            
            <a href="http://web.archive.org/web/20211202012605/https://instagram.com/ourmachinery" target="_blank" class="icon icon-instagram fs-4"></a>
            
            <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/index.xml" target="_blank" class="icon icon-feed fs-4"></a>
            
            <a href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/cdn-cgi/l/email-protection#cfbfa6a1a88fa0babda2aeaca7a6a1aabdb6e1aca0a2" target="_blank" class="icon icon-mail fs-4"></a>
            
        </p>
        <p>&copy; Our Machinery 2021 <a style="text-decoration:none; margin-left:1em;" href="http://web.archive.org/web/20211202012605/https://ourmachinery.com/privacy.html">Privacy Policy</a></p>
    </div>
</footer>

<script type="module" src="../../unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule="" src="../../unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.js"></script>
</body>

</html><!--
     FILE ARCHIVED ON 01:26:05 Dec 02, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:51:26 Aug 01, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 108.091
  exclusion.robots: 0.119
  exclusion.robots.policy: 0.111
  RedisCDXSource: 13.662
  esindex: 0.008
  LoadShardBlock: 74.255 (3)
  PetaboxLoader3.datanode: 75.396 (5)
  CDXLines.iter: 17.647 (3)
  load_resource: 158.315
  PetaboxLoader3.resolve: 95.37
  loaddict: 56.03
-->