











<!DOCTYPE html>
<html lang="en">

<head>

<script type="text/javascript" src="../../_static/js/bundle-playback.js@v=KTqwAcYd" charset="utf-8"></script>

<script type="text/javascript">
  
  

</script>
<link rel="stylesheet" type="text/css" href="../../_static/css/banner-styles.css@v=fantwOh2.css" />
<link rel="stylesheet" type="text/css" href="../../_static/css/iconochive.css@v=qtvMKcIJ.css" />
<!-- End Wayback Rewrite JS Include -->

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/manifest.json">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="../../images/favicon.ico">
  <link rel="apple-touch-icon" href="../../images/apple-touch-icon.png"/>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Release notes for the 2022.2 release."/>
  

  
  <meta name="twitter:card" content="summary_large_image"/>
  
  
  <meta name="twitter:image" content="../../images/release_22_2__dof.png"/>
  
  <meta name="twitter:title" content="The Machinery — February 2022 (version 2022.2)">
  <meta name="twitter:description" content="Release notes for the 2022.2 release."/>
  
  <meta name="twitter:site" content="@ourmachinery"/>

  
  <meta property="og:title" content="The Machinery — February 2022 (version 2022.2) · Our Machinery"/>
  <meta property="og:site_name" content="Our Machinery"/>
  <meta property="og:url" content=" ../../post/release-2022-2/"/>
  
  <meta property="og:image" content="../../images/release_22_2__dof.png"/>
  
  
  <meta property="og:description" content="Release notes for the 2022.2 release."/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content=" 2022-02-28T00:00:00Z"/>
  

  <title>The Machinery — February 2022 (version 2022.2) &middot; Our Machinery</title>

  

  
  
  <link type="text/css" rel="stylesheet" href="../../css/bootstrap.min.css" media="screen, print"/>
  <link type="text/css" rel="stylesheet" href="../../css/style.min.css" media="screen, print"/>
  

  
  
  <link href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/index.xml" rel="alternate" type="application/rss+xml" title="Our Machinery"/>
  

  <link rel="canonical" href="index.html"/>

  
  
  <script>

      
    
    ga('set', 'anonymizeIp', true);
    
  </script>
  

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>

  
  <link rel="stylesheet" href="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">
  <script src="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  
  <script type="text/javascript" src="../../js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="../../js/page.min.js?v=1.16"></script>
  
  
  








<script type="application/ld+json">
{
    "@context": "http://web.archive.org/web/20220519205135/https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "url":"http:\/\/web.archive.org\/web\/20220519205135\/https:\/\/ourmachinery.com\/",
        "email":"ping@ourmachinery.com",
        "image": {
            "@type": "ImageObject",
            "url": "/images/full-logo.png"
        },
        "name":"Our Machinery",
        "description":""
    },
    "author": {
        "@type": "Person",
        "name": "The Machinery Team",
        "email": "ping@ourmachinery.com",
        
        "website":"http:\/\/web.archive.org\/web\/20220519205135\/https:\/\/ourmachinery.com\/"
        
        
        
    },
    "headline": "The Machinery — February 2022 (version 2022.2)",
    "name": "The Machinery — February 2022 (version 2022.2)",
    "wordCount":  2544 ,
    "timeRequired": "PT12M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": "en"
    },
    "url": " ../../post/release-2022-2/",
    "datePublished": "2022-02-28T00:00Z",
    "dateModified": "2022-02-28T00:00Z",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://web.archive.org/web/20220519205135/https://ourmachinery.com/release_22_2__dof.png"
    },
    
    
    "description": "Release notes for the 2022.2 release."
}
    </script>


</head>
<body class="d-flex flex-column min-vh-100">
       <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="../../">
          <img src="../../images/full-logo.png" alt="Our Machinery Logo" width="250" height="75">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar-1" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="d-none d-lg-block" id="navbarCollapse">
          <ul class="navbar-nav  ms-auto mb-2 mb-md-0 align-items-center">
            
            
            <li>
            <li class="nav-item">
               
            </li>
            </li>
            
            
            
            <li>
            <li class="nav-item">
               
            </li>
            </li>
            
            
            
             
            
            
            
             
            
            
            
             
            
            
            
            <li class="nav-item dropdown" style="height:40px;min-width:58px;">
              <a class="text-yellow fs-1 signed-in-only" style="line-height: 1;" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <ion-icon name="person-circle-outline"></ion-icon>
              </a>
              <a class="text-yellow fs-1 signed-out-only" style="line-height: 1;" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <ion-icon name="log-in-outline"></ion-icon>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item signed-out-only d-flex align-items-center" href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/sign-in.html">Sign In <ion-icon class="ms-auto" name="log-in-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-out-only d-flex align-items-center" href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/sign-up.html">Sign Up <ion-icon class="ms-auto" name="create-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-in-only d-flex align-items-center" href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/profile.html">Profile <ion-icon class="ms-auto" name="person-outline"></ion-icon></a></li>
                <li><a class="dropdown-item signed-in-only d-flex align-items-center" role="button" onclick="signOut(); return false;">Sign Out <ion-icon class="ms-auto" name="log-out-outline"></ion-icon></a></li>
              </ul>
            </li>
            
          </ul>
        </div>
      </div>


      <div id="sidebar" tabindex="-1" role="dialog" aria-modal="false" class="b-sidebar b-sidebar-right collapse shadow bg-dark text-light vh-100">
        <header class="b-sidebar-header">
          <button type="button" aria-label="Close" class="fs-1 btn btn-default text-light float-start" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar-1" aria-expanded="false" aria-label="Toggle navigation">
          <span class="icon icon-close"></span>
        </button>
        <div class=" d-flex justify-content-center">
        <a href="../../"><img src="../../images/full-logo.png" class="om-logo p-2 mb-2 mt-2" alt="Our Machinery Logo" width="100" height="75"></a>
  </div>
      </header>
          <div class="b-sidebar-body overflow-auto">
            <div class="card text-primary">
              
              <div class="card-body d-flex justify-content-center signed-out-only">
                <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/sign-in.html" aria-label="Login" class="btn btn-outline-primary me-2" style="flex: 1;"><span class="icon icon-user align-middle"></span> <span class="align-middle text-uppercase font-monospace">Sign In</span></a>
                <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/sign-up.html" aria-label="Register Account" class="btn btn-outline-primary" style="flex: 1;"><span class="icon icon-edit align-middle"></span> <span class="align-middle text-uppercase font-monospace">Sign Up</span></a>
              </div>
              
              <div class="card-body d-flex justify-content-center signed-in-only">
                <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/profile.html" aria-label="Open Profile" class="btn btn-outline-primary me-2 d-flex" style="max-height: 56; min-height: 56px;"><span class="align-middle align-self-center text-uppercase font-monospace">Profile</span></a>
                <a onclick="signOut(); return false;" class="btn btn-outline-primary  d-flex" style="max-height: 56; min-height: 56px;"><span class="icon icon-lock align-middle align-self-center"></span> <span class="align-middle align-self-center text-uppercase font-monospace">Logout</span></a>
              </div>
            </div>
            <div class="accordion mt-0" id="accordion-menu">
              
              
              
              
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id2">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id2" aria-expanded="false" aria-controls="#collapse-id2">
                      About
                    </button>
                  </h2>
                  <div id="collapse-id2" class="accordion-collapse collapse" aria-labelledby="heading-id2" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/product.html">The Machinery</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/roadmap.html">Roadmap</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/about.html">About Us</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/press.html">Press Kit</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id3">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id3" aria-expanded="false" aria-controls="#collapse-id3">
                      Learning &amp; Support
                    </button>
                  </h2>
                  <div id="collapse-id3" class="accordion-collapse collapse" aria-labelledby="heading-id3" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/apidoc/apidoc.html">API Documentation</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.github.io/themachinery-books/">Books</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/videos.html">Videos</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/samples.html">Sample Projects</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues">Issue Tracker</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/academic.html">Academic License</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
              
                <div class="accordion-item  bg-light">
                  <h2 class="accordion-header" id="heading-id4">
                    <button class="accordion-button bg-light collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-id4" aria-expanded="false" aria-controls="#collapse-id4">
                      Community
                    </button>
                  </h2>
                  <div id="collapse-id4" class="accordion-collapse collapse" aria-labelledby="heading-id4" data-bs-parent="#accordion-menu">
                    <div class="accordion-body p-0">
                      <div class="list-group border-0">
                        
                          <a class="list-group-item list-group-item-action border-0 " href=" ../../post/">Blog</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://discord.gg/SHHSZaH">Discord</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/discussions">Forum</a>
                        
                          <a class="list-group-item list-group-item-action border-0 " href="http://web.archive.org/web/20220519205135/https://anchor.fm/ourmachinery">Podcast</a>
                        
                      </div>
                    </div>
                  </div>
                </div>
                
              
            </div>
    </div>
  
    <footer class="b-sidebar-footer w-100">
      <div class="d-flex flex-row">
        <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.github.io/themachinery-books/" aria-label="Opens Books" type="button" class="btn btn-outline-light m-1" style="flex: 1"> <span class="align-middle text-uppercase font-monospace">Books</span></a>
        <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/apidoc/apidoc.html" aria-label="Opens API Documentation" type="button" class="btn btn-outline-light m-1" style="flex: 1"> <span class="align-middle text-uppercase font-monospace">Documentation</span></a>
    </div>

    
 

 
  </footer>
  
    </div>

    </nav>
  <main>


<section class="mt-5 container">

  <article class="post">
    <header class="post-blog mx-auto">
      <div class="mb-5 clearfix" role="group" aria-label="Basic example">
          <a href=" ../../" type="button" class="btn btn-primary float-start">
            <ion-icon name="chevron-back-outline" class="align-middle" style="padding-right:0.2em"></ion-icon> <span class="align-middle">All Blogs</span>
          </a>
          <div class="float-end">
          
           
        </div>
        </div>
      </div>

      <div class="d-grid d-md-flex gap-2 pb-3 pb-md-0 mb-2">
        <div class="flex-grow-1">
          <h1>The Machinery — February 2022 (version 2022.2)</h1>
        </div>
      </div>

      <p>
        <time class="post-date" datetime=" 2022-02-28T00:00:00Z">
          Feb 28, 2022
        </time>
      </p>



    </header>

    <section class="text-break post-blog mx-auto">
      <p>Are you interested in meeting up with some of the Our Machinery team? Niklas, Tobias, and Karl will
be in San Francisco during GDC week and if you are interested in using The Machinery or just want to
chat, we&rsquo;d be happy to talk to you. You can either come to our meetup on Wednesday, March 23rd,
4-6pm at <a href="http://web.archive.org/web/20220519205135/https://www.causwells.com/">Causwells</a>, <a href="http://web.archive.org/web/20220519205135/https://www.google.com/search?q=2346+Chestnut+Street%2C+San+Francisco%2C+CA+94123&amp;rlz=1C1CHBF_enUS875US875&amp;oq=2346+Chestnut+Street%2C+San+Francisco%2C+CA+94123&amp;aqs=chrome..69i57j0i512.784j0j7&amp;sourceid=chrome&amp;ie=UTF-8">2346 Chestnut
Street</a> (<a href="http://web.archive.org/web/20220519205135/https://us4.list-manage.com/survey?u=d9a0161e87b08eef7b0758b02&amp;id=08d178eee7&amp;attribution=false">RSVP
here</a>)
or schedule a private meeting with us by mailing
<a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/cdn-cgi/l/email-protection#85f5ecebe2c5eaf0f7e8e4e6edecebe0f7fcabe6eae8"><span class="__cf_email__" data-cfemail="37475e5950775842455a56545f5e5952454e1954585a">[email&#160;protected]</span></a>. We stay away from the crowds and always mask
up to keep things as safe as possible.</p>
<p>As usual we have a bunch of fixes and new features for you this month.</p>
<p>If you are already running The Machinery, this new release should pop up in your <em>Downloads</em> tab.
Otherwise, get it from our <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/download.html">download page</a> and have a look
at this quick <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/beta.html">introduction video</a>.  We are also working on two
<a href="http://web.archive.org/web/20220519205135/https://ourmachinery.github.io/themachinery-books/">books</a> about The Machinery. One is an
<a href="http://web.archive.org/web/20220519205135/https://ourmachinery.github.io/themachinery-books/the_machinery_book/index.html">overview of the
engine</a> and the
other one <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.github.io/themachinery-books/tutorials/index.html">a collection of
tutorials</a> on how to do
specific things. Note that both these books are still works in progress.</p>
<p>If you find bugs in this release or have requests for specific features, post them to our <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues">issue
tracker</a>. For more general discussions,
hit us up on <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/discussions">GitHub discussions</a>
or <a href="http://web.archive.org/web/20220519205135/https://discordapp.com/channels/690290013585408136/691973584612229191">Discord</a>.</p>
<p>Key highlights in this release are:</p>
<ul>
<li><a href="index.html#cinematic-depth-of-field">Cinematic Depth of Field</a></li>
<li><a href="index.html#custom-ui-icons">Custom UI Icons</a></li>
<li><a href="index.html#compressed-buffers">Compressed Buffers</a></li>
</ul>
<p>And as usual, we have a number of <a href="index.html#community-contributions">smaller updates</a>.</p>
<h2 id="cinematic-depth-of-field">Cinematic Depth of Field</h2>
<p>A new component has been added that implements physically based cinematic/bokeh Depth-of-Field. The
implementation is based on <a href="http://web.archive.org/web/20220519205135/https://advances.realtimerendering.com/s2018/index.htm">A Life of a
Bokeh</a> presented at Siggraph 2018, and
<a href="http://web.archive.org/web/20220519205135/http:///">Real-time Rendering of Physically Based Optical Effect in Theory and Practice</a> from
Siggraph 2015. The implementation aims to provide artists with a workflow based on real-life camera
optics in order to keep optical consistencies. There is still more work to be done for this effect
like improving the quality for very large bokehs.</p>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block" alt="Cinematic Depth of Field" src="../../images/release_22_2__dof.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>Cinematic Depth of Field</h4>
    </figcaption>
  </figure>
<h2 id="custom-ui-icons">Custom UI Icons</h2>
<p>The icon interface in <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com//apidoc/plugins/ui/ui_icon.h.html">ui_icon.h</a> has
been extended with support for custom icons. You can either add additional icons from The
Machinery’s default icon font — Ionicons — or you can extend it with completely custom icons
from your own font.</p>
<figure class="figure d-block">
    <img class="figure-img img-fluid rounded d-block" alt="Custom UI icons" src="../../images/release_22_2__icons.png"/>
    <figcaption class="figure-caption fs-5">
        <h4>Custom UI icons</h4>
    </figcaption>
  </figure>
<h2 id="compressed-buffers">Compressed Buffers</h2>
<p>We’ve added support for LZ4 compressed buffers in saved projects (both in the Database and the
Directory format). The compressed buffers can significantly reduce the size of the project data.</p>
<p>Currently, the engine will <em>read</em> projects with compressed buffers, but it will never <em>write</em>
compressed buffers to disk.</p>
<p>The reasoning behind this is that if we enabled compressed buffers for all projects immediately,
then a project saved with a new executable could never be opened by an old executable (since it
wouldn’t understand the compressed format). By enabling <em>reading</em> of compressed buffers first,
once we enable writing, older executables will already know how to</p>
<p>Thanks to <a href="http://web.archive.org/web/20220519205135/https://github.com/Tisten">Tisten</a> for contributing to this feature.</p>
<hr>
<h2 id="community-contributions">Community Contributions</h2>
<ul>
<li>Thanks to <a href="http://web.archive.org/web/20220519205135/https://github.com/Tisten">Tisten</a> for multiple contributions:
<ul>
<li>More logging during collaboration. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/pull/886">#886</a></li>
<li>Fix for the dropdown menu width. <a href="http://web.archive.org/web/20220519205135/https://github.com/Tisten">#885</a></li>
<li>Scroll view for the reference inspector. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/pull/884">#884</a></li>
<li>Fix for duplicate type names confusing the Visual Studio debugger. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/pull/870">#870</a></li>
</ul>
</li>
<li>Thanks to <a href="http://web.archive.org/web/20220519205135/https://github.com/selmar">Selmar</a> for fixing a crash in the Open File Dialog of the Truth Inspector. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/pull/876">#876</a></li>
<li>Thanks to <a href="http://web.archive.org/web/20220519205135/https://github.com/lachsinc">lachsinc</a> for a fix in locating Visual Studio. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/pull/857">#857</a></li>
</ul>
<h2 id="collaboration">Collaboration</h2>
<ul>
<li>Fix for crash related to Discord integration and shutting down the Discord Application.</li>
<li>You can now host a server via: <code>--host-nat-server [password]</code>, <code>--host-internet-server [port]</code>, or <code>--host-lan-server</code></li>
<li>The last collaboration mode is now remembered.</li>
<li>Bad serialization data from a client now won’t crash the host. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1023">#1023</a></li>
<li>Fix for crash from <code>client_load_state()</code>. <a href="http://web.archive.org/web/20220519205135/http:///">#1045</a></li>
<li>Fix for synchronization of overridden flags. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1013">#1013</a></li>
<li>Fix for deleted assets duplicating on client after Undo of delete. #<a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/issues/869">869</a></li>
<li>Import DCC assets and extracting assets is now more reliable in collaboration.</li>
<li>Fix for crash when synchronizing projects larger than 4 gigabytes over collaboration.</li>
</ul>
<h2 id="rendering">Rendering</h2>
<ul>
<li>Fix for some debug visualizations not being stable when TAA is enabled.</li>
<li>Fix for crash in the Vulkan render backend when a resource is not freed that uses a dynamically allocated debug name.</li>
<li>Fix for area light not taking color and attenuation into account for clear coat layer.</li>
<li>Make sure readbacks of GPU buffers and images end up in CPU cached memory.</li>
<li>Vulkan backend now correctly respects the <code>tm_renderer_memory_map_flags</code> and will guarantee that CPU cached memory is returned when requested.</li>
<li>Fixed resource barrier issue in <code>GPUSim</code> system.</li>
<li>Performance fix for forgetting to reset <code>update_shader_variables</code> in <code>tm_render_component_public_t</code> after updating.</li>
<li>Code cleanup and documentation pass of <code>tm_ui_renderer_api</code>.</li>
<li>Removed feature flag for vector fonts as it&rsquo;s been enabled for more then a year without any issues.</li>
<li>Fix for SSAO artifacts causing an outline for objects against the skydome.</li>
<li>The Light Component now uses a clustered acceleration structure for culling of all local light sources. Clustering runs in two passes: First all lights are binned into a course cluster structure on the CPU to estimate a reasonable maximum number of intersecting lights per cluster. Then a more fine-grained cluster structure (32x16x32) is built on the GPU using compute which becomes the final acceleration structure.</li>
</ul>
<h2 id="ui--ux">UI / UX</h2>
<ul>
<li>Fix for scrollbars always rendering to main UI layer instead of the specified one.</li>
<li>Fix for camera controller not accepting <code>Alt Gr</code> as a valid Alt key.</li>
<li>Fix for EV100 and false color legend text getting cut off.</li>
<li>The Default OS window sizes will now be used if a window bigger than the available screen resolution is created. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/233">#233</a></li>
<li>Substantial performance improvements to Device Memory Debug visualization.</li>
<li>Fix for one frame glitch in preview tab: make sure to reset primitive drawer buffers on <code>tab__set_root()</code>.</li>
<li>Clean up of image previewing. Avoid showing UI if no image is active. Fix for frame glitches when switching between image assets.</li>
<li>Better numbering scheme for duplicated objects. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/951">#951</a></li>
<li>Fix for mouse up events being lost during long stalls. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1050">#1050</a></li>
<li>Fix for possible infinite loop when rendering multiple lines of text. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1048">#1048</a></li>
<li>The Crash Recovery dialog is now only shown if there were any actual changes to the project data before shutdown. Previously changes to things like the selection could trigger the Crash Recovery dialog. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/issues/784">#784</a></li>
</ul>
<h2 id="volume-component">Volume Component</h2>
<ul>
<li>Revamp for the volume component sorting API function. This is now split up into two functions for clarity and safety.</li>
</ul>
<h2 id="simulation">Simulation</h2>
<ul>
<li>A new Simulate Tab is now opened for each different Entity when the Play button is pressed in the Scene Tab. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/976">#976</a></li>
<li>The Network Node Type Menu is now disabled if there is none available.</li>
</ul>
<h2 id="entity-tree">Entity Tree</h2>
<ul>
<li>Automatically enter Rename mode when adding child Entity. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/719">#719</a></li>
<li>Added “Move to New Parent” feature <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/716">#716</a></li>
<li>Open root context menu if right clicking on background. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/718">#718</a></li>
<li>Fix for Shift + click selection not always working properly. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/721">#721</a></li>
<li>Fix for focus event being sent on both mouse Pressed and Released. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/822">#822</a></li>
<li>Implemented Multi-object context menu. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/715">#715</a></li>
<li>Fix for Entity Name not being clipped correctly when buttons are not present.</li>
<li>Multiple optimizations to improve child reordering and sorting time. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1007">#1007</a></li>
</ul>
<h2 id="entity-spawner">Entity Spawner</h2>
<ul>
<li>Added physics to the Entity Spawner, any instanced entity that has a physics shape specified will automatically have a physics representation created for them when they are spawned by the Entity Spawner Component.</li>
</ul>
<h2 id="graphs-general">Graphs (general)</h2>
<ul>
<li>Added shortcut <code>Ctrl+Left/Right</code> for moving in the Graph History. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1077">#1077</a></li>
<li>Graphs show now a visual indication of what kind of graph they are and the name which is either the owning entity or the asset in case the graph has no name set. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/924">#924</a></li>
<li>Instantiated nodes are now marked with a blue triangle in the corner as opposed to having a blue line under the name.</li>
<li>Invalid connectors now have a red marking on the connector instead of a general marking on the node, so one knows which connectors are in error.</li>
<li>Many nodes that previously had required connectors are now optional.</li>
<li>The connector rectangle is now only filled if there is a connection connected to the connector, if there just is data on the connector, then it will not be filled. If data and connection is missing and the connector is not optional, then a red warning will be shown on the connector.</li>
<li>Added support for tooltips on connectors. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1038">#1038</a></li>
<li>Fix for tinting of comments being disabled.</li>
<li>Graph comments can now be resized by dragging any side of the comment. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/998">#998</a></li>
<li>Added a tooltip on how to move a comment without dragging the contents within.</li>
<li>Comments now snap while resizing. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/996">#996</a></li>
<li>If an output or input lacks both name and display name, the input or output node will now write the type name on the connector.</li>
<li>Fix for subgraph nodes not showing correct values when viewing public inputs of instantiated graphs. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/issues/880">#880</a></li>
<li>Fix for inherited and removed connections being editable by dragging their endpoints.</li>
<li>Graph nodes are now pasted at the mouse location. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1033">#1033</a></li>
<li>Any endpoint of the graph connections can now be click-dragged to reconnect the connection. Holding Ctrl force-creates a new connection instead of dragging an old one. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/997">#997</a></li>
</ul>
<h2 id="creation-graph">Creation Graph</h2>
<ul>
<li>Fix for a crash in the Creation Graph when a graph is destroyed while it is running.</li>
<li>Preview of a Paint Node in the Creation Graph. This node can be used to do general painting and will see lots of development in the coming releases. It is hidden behind feature flag “Paint Node”.</li>
<li>Creation Graph nodes can now expose scene tab toolbars for when the component containing the creation graph is selected. This is used by the Paint Node.</li>
<li>Creation Graphs can now have general auxiliary data, i.e. data living within the Creation Graph object but outside of the Graph object that is contained within the Creation Graph. This is so that data associated with the Creation Graph can be changed without invalidating the Graph itself. This is used to store Paint Node brush strokes.</li>
<li>Fix for Cached Node Results leaking and not being deinitialized correctly. Put in a migration to remove the previously leaked items, which could make it so that you had more buffers that you should have in the project.</li>
<li>There&rsquo;s now support for up to 16 indirect draw call commands per <code>GPUSim</code> System.</li>
<li>Added an <code>Entity Spawner - Refresh</code> event node that lets you schedule a refresh of all channels in an Entity Spawner component directly from within a creation graph.</li>
<li>Crash fix when setting the name of a <code>Variable</code> node to an empty string.</li>
<li>Refactored how images are managed internally, it&rsquo;s now possible to build long image processing pipelines that correctly evicts GPU representation of images between each step.</li>
<li>Fixes to the <code>Compress Image (Crunch)</code> node
<ul>
<li>Separation between low-level settings and high-level settings.</li>
<li>Proper support for cancelling ongoing compression tasks.</li>
<li>Support for setting the compression format to <code>Uncompresed</code> which results in a pass-through node.</li>
<li>Bug fix for failing to detect compression settings on frequent changes or even hanging The Machinery.</li>
</ul>
</li>
<li>Helper methods in <code>tm_creation_graph_api</code> to simplify detection of dirty marked or version bumped Creation Graphs.</li>
<li><code>tm_creation_graph_api-&gt;has_event()</code> now gracefully handles invalid creation graph instances.</li>
<li>New <code>Submit Draw Call</code> event node for explicit scheduling of draw calls on an event.</li>
<li>There&rsquo;s now a public interface for <code>tm_gpu_simulation_system_o</code> that allows for creating a <code>GPUSim</code> system from any plugin.</li>
<li>Fixes for race conditions regarding queued background tasks and creation graphs getting destroyed.</li>
<li>Fix for Construct Transform node not taking scale into account correctly.</li>
</ul>
<h2 id="entity-graph">Entity Graph</h2>
<ul>
<li>Added support for Default Preferred Output connectors via the <code>GGN_PARAM_CONNECTOR_PREFERRED</code> macro. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/963">#963</a></li>
<li>Debugger Tooltips in the Entity Graph are always visible <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1067">#1067</a></li>
<li>Entity Graph components are now also created for the entity context used by Scene Tab. One possible use case is for building various types of tools and editor interactions directly using entity graphs.</li>
</ul>
<h2 id="physics">Physics</h2>
<ul>
<li>The <code>tm_physx_scene_api</code> has new functions for directly creating actors and physics shapes, this is used by the Entity Spawner to create physics representation for instanced entities.</li>
<li>Added a Culling Box when the PhysX Visualization is active. This means that there is a configurable box size that follows the active camera, outside of it, no physics visualization is drawn.</li>
<li>Fixed rounding error in PhysX height field visualization</li>
<li>Fix for crash if we fail to create a PhysX actor. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1052">#1052</a></li>
</ul>
<h2 id="scene-tab">Scene Tab</h2>
<ul>
<li>Fix for drag-and-drop placement of entities not working correctly in the sense that the entities were not placed on top of the entity under the cursor.</li>
<li>Fix for a performance issue when duplicating many objects. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1010">#1010</a></li>
</ul>
<h2 id="asset-browser">Asset Browser</h2>
<ul>
<li>The asterisk marking modified assets is now always visible. In detailed views it now sits to the left of the name. In the icon view it sits in the corner of the icon.</li>
<li>Optimization to make refresh of thumbnails faster.</li>
</ul>
<h2 id="workspaces">Workspaces</h2>
<ul>
<li>Creating a workspace with the default layout now works as expected.</li>
</ul>
<h2 id="task-manager">Task Manager</h2>
<ul>
<li>Fix for task manager not being possible to interact with when it is drawn in the overlay mode.</li>
</ul>
<h2 id="headless">Headless</h2>
<ul>
<li>Command line argument <code>--headless</code> can be used to start in headless mode.</li>
<li>Headless mode has some extra logging so you can see what is going on.</li>
<li><code>TM_LOG_HEADLESS(...)</code> can be used to do headless-specific logging.</li>
</ul>
<h2 id="publish">Publish</h2>
<ul>
<li>Projects can be published from command line by combining <code>--publish</code> with <code>--load-project</code>.</li>
</ul>
<h2 id="truth-inspector">Truth Inspector</h2>
<ul>
<li>Still in preview but the feature flag has been removed.</li>
<li>The list of objects per type can be sorted by Name.</li>
<li>The list of objects per type shows names of type prototypes if the name is not present but part of the Asset.</li>
<li>Generally added paging to all long lists.</li>
<li>We added a new tab that allows you to see type differences between the original type (registered via the <code>tm_the_truth_create_types_i</code>) and what is actually currently present in your Truth.</li>
<li>Better highlighting for temporary objects — objects that wont be saved to disk when you save your project) in the object list.</li>
<li>Visual Highlighting for Default Objects in the object lists.</li>
<li>We added a new tab that allows you to have a overview of all temporary objects.</li>
<li>We added a overview of all objects that are referenced the current object.</li>
<li>We added a overview of all objects that use the current object as prototype base.</li>
</ul>
<h2 id="foundation">Foundation</h2>
<ul>
<li>Fix for rare race condition in <code>tm_runtime_data_repository_api</code>.</li>
<li>Crash fix when writing crash recovery change lists to disk if it they exceed 4GB.</li>
<li><code>tm_the_truth_api-&gt;uuid()</code> is now safe to call from any number of threads running in parallel.</li>
<li>Fix for rare crash after attempting to load a broken project.</li>
<li>Added <code>tm_task_system_api-&gt;wait_for_task()</code>. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1051">#1051</a></li>
<li>Added <code>TM_FEATURE_FLAG__MATCH_REFERENCES_ON_IMPORT</code>  — when set, we will try to match references in the existing project when importing assets instead of duplicating references from the imported project.</li>
</ul>
<h2 id="animation">Animation</h2>
<ul>
<li>Selecting a state now updates the Properties view even if that state was selected before. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1003">#1003</a></li>
<li>Selecting any node in the Animation Tree now sets the Preview to preview the Animation State Machine. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/1002">#1002</a></li>
<li>Better copy/paste behavior in the Animation Tree.</li>
<li>Duplicate, Rename and Delete shortcuts in the Animation Tree.</li>
<li>Selecting a state in the Animation Tree View now updates the State Graph. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery-public/issues/994">#994</a></li>
<li>Fix for drawing issues in the Animation Preview.</li>
</ul>
<h2 id="build-system">Build System</h2>
<ul>
<li>The Debug project configurations in Visual Studio are now properly called <code>Debug</code> instead of <code>Debug | Win64</code>.</li>
<li>The Samples can now be built with <code>TM_SDK_DIR</code> set to point to either a binary release or the checked out source code of the project.</li>
<li>Fix for building The Machinery with spaces in the project path. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/issues/878">#878</a></li>
</ul>
<h2 id="entity-component-system">Entity Component System</h2>
<ul>
<li>Fix for crash when setting non-existent entity properties. <a href="http://web.archive.org/web/20220519205135/https://github.com/OurMachinery/themachinery/issues/873">#873</a></li>
</ul>
      


<section>
  <h5>by <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/authors/team" class="text-decoration-none">The Machinery Team</a></h5>
</section>


    </section>
    <footer class="mt-5 mb-5">
      <hr>

      <div class="d-flex">
    <div class="me-auto">
        <a href=" ../../post" type="button" class="btn btn-primary">
            <ion-icon name="chevron-back-outline" class="align-middle" style="padding-right:0.2em"></ion-icon> <span class="align-middle">All Blogs</span>
        </a>
    </div>
    
    <a class="icon icon-twitter me-1" style="font-size: 1.2em" href="http://web.archive.org/web/20220519205135/https://twitter.com/share?text=The%20Machinery%20%e2%80%94%20February%202022%20%28version%202022.2%29 - Our%20Machinery&amp;url=https%3a%2f%2fourmachinery.com%2fpost%2frelease-2022-2%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon icon-pinterest me-1" style="font-size: 1.2em" href="http://web.archive.org/web/20220519205135/https://pinterest.com/pin/create/button/?url=https%3a%2f%2fourmachinery.com%2fpost%2frelease-2022-2%2f&amp;description=The%20Machinery%20%e2%80%94%20February%202022%20%28version%202022.2%29" onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
        <span class="hidden">Pinterest</span>
    </a>
    
</div>

      <div class="mt-5">
        

<p>The comment system uses a session cookie to keep track of your signed-in status. This cookie is
created when you sign in with GitHub. If you don't sign in, no cookie is created.</p>




      </div>

      
      <div class="container mb-5 mt-5">
        <div class="row">
          <h3>Previous Posts</h3>
          <hr>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
          
              <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <a href="../the-machinery-network-frontier-part-2/index.html" class="text-decoration-none"><img src="../../images/netfront2__simulate_tabs.png" class="card-img-top" alt="The (Machinery) Network Frontier, Part 2"></a>
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href="../the-machinery-network-frontier-part-2/index.html">The (Machinery) Network Frontier, Part 2</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2022-01-14T00:00:00Z">
                      14 Jan 2022
                    </time>
                  </h6>
                  <p class="card-text"><p>In this part of the series, we’ll take a look at some high-level constructs that leverage the
basic concepts we saw in …</p></p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href="../the-machinery-network-frontier-part-2/index.html" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">8 min</small>
                </div>
              </div>
        </div>
         <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/2021-recap/">2021 Recap</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-12-20T00:00:00Z">
                      20 Dec 2021
                    </time>
                  </h6>
                  <p class="card-text"><p>As 2021 is coming to a close, we’d like to light a few candles, pour a glass of
<a href="http://web.archive.org/web/20220519205135/https://en.wikipedia.org/wiki/Gl%C3%B6gg">Glögg</a>, and look back at what has …</p></p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/2021-recap/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">3 min</small>
                </div>
              </div>
        </div>
         <div class="col">
              <div class="card om-post-preview shadow-sm">
                
                <a href=" ../../post/compiling-the-machinery-with-emscripten-part-2/" class="text-decoration-none"><img src="../../images/emscripten2__simple_draw.png" class="card-img-top" alt="Compiling The Machinery with Emscripten: Part 2 — Graphics"></a>
                
                <div class="card-body">
                  <h5 class="card-title"><a class="text-decoration-none" href=" ../../post/compiling-the-machinery-with-emscripten-part-2/">Compiling The Machinery with Emscripten: Part 2 — Graphics</a></h5>
                  <h6 class="card-subtitle mb-2 text-muted">
                    <time class="post-date" datetime=" 2021-12-06T00:00:00Z">
                      6 Dec 2021
                    </time>
                  </h6>
                  <p class="card-text"><p>This blog series is about getting <a href="../../">The Machinery</a> to run in the web
browser using <a href="http://web.archive.org/web/20220519205135/https://emscripten.org/">Emscripten</a>. I spent two <a href="http://web.archive.org/web/20220519205135/https://en.wikipedia.org/wiki/Hackathon">Hack
Days …</a></p></p>
                </div>
                <div class="d-flex justify-content-between align-items-center p-2">
                  <div class="btn-group">
                    <a href=" ../../post/compiling-the-machinery-with-emscripten-part-2/" type="button" class="btn btn-lg btn-outline-primary">Read</a>
                  </div>
                  <small class="text-muted">16 min</small>
                </div>
              </div>
        </div>
        
      </div>
      </div>
    </footer>
  </article>

</section>

</main>

<footer class="container-fluid mt-auto page-footer-bg">
    <div class="mx-auto d-flex justify-content-center w-100 pt-5 pb-5">
        <img alt="trees" src=" ../../post/release-2022-2/&#32;https:/ourmachinery.com/images/trees.png" style="height: 84.38px; width: 150px;">
    </div>
    <div class="page-info">
        <p class="float-end">
            
            <a href="http://web.archive.org/web/20220519205135/https://twitter.com/ourmachinery" target="_blank" class="icon icon-twitter fs-4"></a>
            
            <a href="http://web.archive.org/web/20220519205135/https://instagram.com/ourmachinery" target="_blank" class="icon icon-instagram fs-4"></a>
            
            <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/index.xml" target="_blank" class="icon icon-feed fs-4"></a>
            
            <a href="http://web.archive.org/web/20220519205135/https://ourmachinery.com/cdn-cgi/l/email-protection#86f6efe8e1c6e9f3f4ebe7e5eeefe8e3f4ffa8e5e9eb" target="_blank" class="icon icon-mail fs-4"></a>
            
        </p>
         
    </div>
</footer>

<script type="module" src="../../unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule="" src="../../unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.js"></script>
</body>

</html><!--
     FILE ARCHIVED ON 20:51:35 May 19, 2022 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:51:21 Aug 01, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 347.662
  exclusion.robots: 0.089
  exclusion.robots.policy: 0.083
  cdx.remote: 0.061
  esindex: 0.008
  LoadShardBlock: 322.911 (3)
  PetaboxLoader3.resolve: 324.986 (4)
  PetaboxLoader3.datanode: 71.933 (4)
  CDXLines.iter: 14.909 (3)
  load_resource: 85.647
-->